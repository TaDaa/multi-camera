parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Vusr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.html=void 0;var a='\n<div class="camera-overlay">\n    <div class="camera-zoom camera-zoom-part">\n        <div class="camera-zoom-stretch camera-zoom-part"></div>\n        <div class="camera-zoom-plus">+</div>\n        <div class="camera-zoom-background-wrapper camera-zoom-part">\n            <div class="camera-zoom-background camera-zoom-part"></div>\n        </div>\n        <div class="camera-zoom-minus">-</div>\n        <div class="camera-zoom-thumb camera-zoom-part"></div>\n    </div>\n    <div class="camera-reverse-back"></div>\n    <div class="camera-reverse"></div>\n    <div class="camera-take-photo-border camera-take-photo-part"></div>\n    <div class="camera-take-photo camera-take-photo-part"></div>\n        <a class="camera-cancel camera-text-option" href="javascript:void(0);" >Cancel</a>\n        <a class="camera-use-photos camera-text-option" href="javascript:void(0);">Use Photos</a>\n    <div class="camera-indicator top">\n        <span class="camera-indicator-line"></span>\n        <span class="camera-indicator-text"></span>\n    </div>\n    <div class="camera-indicator bottom">\n        <span class="camera-indicator-line"></span>\n        <span class="camera-indicator-text"></span>\n    </div>\n    <div class="camera-indicator right">\n        <span class="camera-indicator-line"></span>\n        <span class="camera-indicator-text">Photos</span>\n    </div>\n    <div class="camera-indicator left">\n        <span class="camera-indicator-line"></span>\n        <span class="camera-indicator-text"></span>\n    </div>\n    <div class="camera-photo-overlay">\n        <div class="camera-photo-overlay-background"></div>\n        <a href="javascript:void(0)" class="camera-photo-overlay-text back">Back To Camera</a>\n    </div>\n    <div class="camera-bottom-toolbar" >\n    </div>\n</div>\n';exports.html=a;
},{}],"8FBE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.css=void 0;var n="\n    .camera-photo-overlay-text.back {\n        transition: opacity 300ms;\n        position: absolute;\n        left: 0.3em;\n        bottom: 4.0em;\n        border-bottom:solid 2px blue;\n        text-shadow:0px 0px 10px rgba(0,0,0,0.5);\n        color: white;\n        z-index: 1;\n        opacity: 0;\n        text-decoration:none;\n        pointer-events:all;\n        padding:0.2em 0.5em;\n    }\n    .camera-photo-overlay-background {\n        position:absolute;\n        top:0;\n        left:0;\n        right:0;\n        bottom:0;\n        background-color:black;\n        opacity: 0;\n        transition: opacity 300ms;\n    }\n    .camera-photo-overlay {\n        position:absolute;\n        top:0;\n        left:0;\n        width: 100%;\n        height: 100%;\n        pointer-events:none;\n        display:none;\n    }\n    .camera-photo-overlay .camera-photo-wrapper {\n        z-index: 0;\n    }\n    .camera-indicator .camera-indicator-text {\n        transform:translate(-50%,-50%);\n        top:50%;\n        left:50%;\n        position:absolute;\n        color:white;\n    }\n    .camera-indicator.left .camera-indicator-text {\n        display:none;\n    }\n    .camera-indicator.left .camera-indicator-line,\n    .camera-indicator.right .camera-indicator-line\n    {\n        position: absolute;\n        top:0;\n        bottom:0;\n        left:0;\n        right:0;\n        background:rgba(50,150,255,0.7);\n        -webkit-mask:linear-gradient(90deg, black 0%, transparent 50%,   black 100%);\n        -webkit-mask-size:100% 100%;\n        -webkit-mask-position:0% 0%;\n        -webkit-mask-repeat: no-repeat;\n    }\n    .camera-indicator {\n        position:absolute;\n        overflow:visible;\n    }\n    .camera-indicator.left {\n        right: 7em;\n        left: 5em;\n        bottom: 4.0em;\n        height: 1px;\n        display:none;\n    }\n    .camera-indicator.right {\n        right: 0.3em;\n        left: 0.3em;\n        top: 1.5em;\n        height: 1px;\n    }\n    .camera-indicator.bottom .camera-indicator-text,\n    .camera-indicator.top .camera-indicator-text\n    {\n        transform:translate(-50%,-50%)rotate(-90deg);\n        top:50%;\n        left:0%;\n        position:absolute;\n        color:white;\n    }\n    .camera-indicator.top .camera-indicator-text {\n        margin-top:-1em;\n    }\n    .camera-indicator.top .camera-indicator-line,\n    .camera-indicator.bottom .camera-indicator-line {\n        position: absolute;\n        top:0;\n        bottom:5.5em;\n        left:0;\n        right:0;\n        background:rgba(50,150,255,0.7);\n        -webkit-mask:linear-gradient(transparent 3em, black 0%, transparent 57%,   black 100%);\n        -webkit-mask-size:100% 100%;\n        -webkit-mask-position:0% 0%;\n        -webkit-mask-repeat: no-repeat;\n    }\n    .camera-indicator.bottom {\n        display:none;\n        right: 0.3em;\n        top: 0em;\n        bottom: 0em;\n        width: 1px;\n    }\n    .camera-indicator.top {\n        display:none;\n        left: 0.3em;\n        top: 0em;\n        bottom: 0em;\n        width: 1px;\n    }\n\n    .camera-overlay {\n        visibility:visible;\n        position:fixed;\n        top:0;\n        left:0;\n        right:0;\n        bottom:0;\n        -webkit-user-select:none;\n    }\n    .camera-took-picture {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: #000;\n        transition: opacity 300ms;\n        opacity: 1;\n    }\n    .camera-take-photo-border {\n        position:absolute;\n        top: 50%;\n        right: -0.25em;\n        transform: scale(1)translate(-50%, -50%);\n        border-radius:50%;\n        height:3.75em;\n        width:3.75em;\n        background:transparent;\n        box-shadow:0px 0px 0px 0.35em white, 0px 0px 0px 0.4em rgba(0,0,0,0.3);\n        transition: transform 500ms;\n        transform-origin: 0 0;\n        transition: transform 100ms linear;\n    }\n    .camera-take-photo {\n        position:absolute;\n        top:50%;\n        right: 0;\n        transform: scale(1)translate(-50%, -50%);\n        transform-origin: 0 0;\n        border-radius:50%;\n        height:3.5em;\n        width:3.5em;\n        background:white;\n        transition: transform 175ms linear;\n    }\n    .taking-picture .camera-take-photo {\n        transform: scale(0.9)translate(-50%, -50%);\n    }\n    .camera-reverse-back {\n        top: 50%;\n        right: 0.95em;\n        transform: scale(1)translate(0,-5em)translate(-50%, -50%);\n        height: 2.5em;\n        width: 2.5em;\n        background-image:url('/images/camera_reverse_back.svg');\n        background-repeat:no-repeat;\n        background-size:2.5em 2.5em;\n        position: absolute;\n    }\n    .camera-reverse {\n        top: 50%;\n        right: 0.95em;\n        transform: scale(1)translate(0,-5em)translate(-50%, -50%);\n        height: 2.5em;\n        width: 2.5em;\n        background-image:url('/images/camera_reverse.svg');\n        background-repeat:no-repeat;\n        background-size:2.5em 2.5em;\n        position: absolute;\n    }\n    .camera-bottom-toolbar {\n        position:absolute;\n        bottom:0;\n        left:0;\n        right:0;\n        //top: 0;\n        //z-index:-1;\n        //pointer-events: none;\n        //height:5em;\n        height: 4.1em;\n        background:rgba(0,0,0,0.1);\n        overflow-x:scroll;\n        -webkit-overflow-scrolling:touch;\n    }\n    .camera-image {\n        position:relative;\n        display:inline-block;\n        margin-right: 0.5em;\n        box-shadow:0px 0px 0px 0.5em black;\n        height:5em;\n        width:5em;\n    }\n    .camera-text-option {\n        color: white;\n        text-shadow:0px 0px 10px rgba(0,0,0,0.5);\n        text-decoration: none;\n        padding:0 0.5em;\n        //background:rgba(0,0,0,0.35);\n    }\n    .camera-use-photos {\n        position:absolute;\n        right: 0.3em;\n        bottom: 4.0em;\n        border-bottom:solid 2px rgba(100,255,100,0.7);\n        padding:0.2em 0.5em;\n    }\n    .camera-cancel {\n        position: absolute;\n        left: 0.3em;\n        bottom: 4.0em;\n        border-bottom:solid 2px red;\n        padding:0.2em 0.5em;\n    }\n    .camera-zoom {\n        position: absolute;\n        top: 50%;\n        left: 2em;\n        height: 15em;\n        transform: translate(0, -50%);\n    }\n    .camera-zoom-background-wrapper {\n        position: absolute;\n        width: 0.5em;\n        transform: translate(-50%, 0);\n        top: 0;\n        bottom: 0;\n        -webkit-mask: radial-gradient(transparent .75em, black .75em, black 25em);\n        -webkit-mask-size:30em 30em;\n        -webkit-mask-position:50% 0%;\n        -webkit-mask-repeat: no-repeat;\n    }\n    .camera-zoom-background {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        box-shadow: inset 0px 0px 0px 1px rgba(255,255,255,0.2);\n        background:rgba(0,0,0,0.3);\n        //opacity: 0.25;\n        overflow:visible;\n        left: 0;\n        right: 0;\n        border-radius: 1em;\n    }\n    .camera-zoom-plus {\n        color: white;\n        font-size: 1.5em;\n        text-shadow:0px 0px 10px rgba(0,0,0,0.5);\n        bottom: 100%;\n        position:absolute;\n        left: 0;\n        padding: 0.5em;\n        transform: translate(-50%, 0);\n    }\n    .camera-zoom-minus {\n        color: white;\n        font-size: 2em;\n        text-shadow:0px 0px 10px rgba(0,0,0,0.5);\n        padding: 0.5em;\n        top: 100%;\n        left: 0;\n        transform: translate(-50%, 0);\n        margin-top: -0.25em;\n        position:absolute;\n    }\n\n    .camera-zoom-thumb {\n        box-shadow: 0px 0px 0px 0.15em rgba(100,255,100,0.7);\n        border-radius: 50%;\n        height: 1.5em;\n        width: 1.5em;\n        transform:translate(-50%, 50%);\n        bottom: 0%;\n        position:absolute;\n    }\n    .camera-zoom-stretch {\n        position:absolute;\n        left: -1em;\n        top: -1em;\n        right: -1em;\n        bottom: -1em;\n    }\n    .camera-photo-wrapper {\n        transform: translate(0em,0em)scale(1);\n        transition: transform 300ms, width 300ms, height 300ms, opacity 300ms, left 300ms, bottom 300ms;\n        overflow: visible;\n        position: absolute;\n        left: 0;\n        box-shadow: -1px 0px 0px rgba(255,255,255,.5);\n        bottom: 0;\n        width: 3.5em;\n        height: 3.5em;\n        opacity: 0.85;\n        transform-origin: 0% 50%;\n    }\n    .camera-photo-wrapper.active::after {\n        content: \" \";\n        position:absolute;\n        top:0;\n        bottom:0;\n        left:0;\n        right:0;\n        background:rgba(100,255,100,0.35);\n    }\n    .camera-photo {\n        background-color: black;\n        transition: transform 300ms, opacity 300ms;\n        transform: scale(0)translate(0px,0px);\n        transform-origin: 0% 50%;\n        opacity: 1;\n        background-size: cover;\n        background-position: center;\n        width: 100%;\n        height: 100%;\n        background-repeat:no-repeat;\n        position:absolute;\n        z-index:0;\n    }\n    .camera-photo-remove {\n        background-color:rgba(255,0,0,0.5);\n        box-shadow:  0px 5px 10px rgba(0,0,0,0.5);\n        text-shadow:  0px 0px 1px black;\n        background-color:rgba(0,0,0,0.5);\n        background-color:rgba(200,200,200,.8);\n        //border:solid 1px rgba(255,255,255,.5);\n        color: white;\n        //border-radius:50%;\n        //box-shadow: -1px 0px 0px white;\n        text-align:center;\n        transition: transform 300ms;\n        transform: translateX(-100%);\n        position:absolute;\n        //top:-1em;\n        z-index:1;\n        font-weight:bold;\n        //bottom:100%;\n        //left:50%;\n        width:100%;\n        //top:0;\n        //padding: 0.05em 0 0.05em;\n        height: auto;\n        //padding: 0.15em 0;\n        //bottom:100%;\n        top: 0.05em;\n        //box-shadow: 0px 0px 0px 1px rgba(255,255,255,.5);\n        right: 0.05em;\n        border-radius: 50%;\n        height: 1.5em;\n        width: 1.5em;\n    }\n";exports.css=n;
},{}],"igz5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MultiCamera=void 0;var e=require("./multicamera.html"),t=require("./multicamera.css");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,i)}return o}function n(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(o,!0).forEach(function(t){r(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),e}var c=function(){function e(){var t=this;a(this,e),this._images=[],this._maxZoom=5,this._minZoom=1,this._zoom=1,this._events={usephotos:[],cancel:[],tookphoto:[]},this.touchTypes=e.touchTypes,e._camera=this;var o=this._element=e._template.cloneNode(!0),i=this._elements={overlay:o,zoomPlus:o.querySelector(".camera-zoom-plus"),zoomMinus:o.querySelector(".camera-zoom-minus"),zoomThumb:o.querySelector(".camera-zoom-thumb"),zoomBG:o.querySelector(".camera-zoom-background"),zoomBGWrapper:o.querySelector(".camera-zoom-background-wrapper"),reverseCamera:o.querySelector(".camera-reverse"),cancel:o.querySelector(".camera-cancel"),takePhoto:o.querySelector(".camera-take-photo"),usePhotos:o.querySelector(".camera-use-photos"),bottomToolbar:o.querySelector(".camera-bottom-toolbar"),topIndicatorText:o.querySelector(".camera-indicator.top .camera-indicator-text"),bottomIndicatorText:o.querySelector(".camera-indicator.bottom .camera-indicator-text"),leftIndicatorText:o.querySelector(".camera-indicator.left .camera-indicator-text"),rightIndicatorText:o.querySelector(".camera-indicator.right .camera-indicator-text"),photoOverlay:o.querySelector(".camera-photo-overlay"),photoOverlayBackground:o.querySelector(".camera-photo-overlay-background"),back:o.querySelector(".camera-photo-overlay-text.back")},n=i.overlay,r=i.takePhoto,s=i.back,h=i.cancel,c=i.usePhotos,l=document.createElement("div");l.style.width=l.style.height="1em",l.style.position="absolute",l.style.opacity="0",this._element.appendChild(l),this._emToPx=l.clientWidth,this._element.removeChild(l),console.error(o),console.error(n),n.style.display="none",this._reset(),this._operations=[],this._onDeviceReady=this._onDeviceReady.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),h.addEventListener("click",function(){return t._onCancelClick()},!0),c.addEventListener("click",function(){return t._onUsePhotosClick()},!0),n.addEventListener("touchend",function(e){return t._onOverlayTouchEnd(e)},!0),s.addEventListener("click",function(){return t._onPhotoOverlayBackClick()},!0),n.addEventListener("touchmove",function(e){return t._onOverlayTouchMove(e)},!0),n.addEventListener("touchstart",function(e){return t._onOverlayTouchStart(e)},!0),n.addEventListener("touchcancel",function(e){return t._onOverlayTouchCancel(e)},!0),r.addEventListener("transitionend",function(){return t._onTakePhotoTransitionEnd()}),window.addEventListener("resize",this._onOrientationChange),void 0===window.device||void 0===window.device.cordova?document.addEventListener("deviceready",this._onDeviceReady):this._onDeviceReady()}return h(e,[{key:"addEventListener",value:function(e,t){this._events[e].push(t)}},{key:"removeEventListener",value:function(e,t){var o=this._events[e],i=o.indexOf(t);-1!==i&&o.splice(i,1)}},{key:"dispatchEvent",value:function(e){for(var t=this._events[e.type],o=0,i=t.length;o<i;o++)t[o](e)}},{key:"getScreenDimensions",value:function(){var e=window.screen,t=e.height,o=e.width;return"number"==typeof orientation&&1===Math.abs(parseInt("".concat(window.orientation))/90)&&(t=window.screen.width,o=window.screen.height),{width:o,height:t}}},{key:"show",value:function(e){var t=window.CameraPreview,o=this._elements.overlay,i=this.getScreenDimensions(),n=i.width,r=i.height;if(o.style.display="none",!0!==this._show){if(this._ready&&t)return this._show=!0,t.stopCamera(function(){console.error("CameraPreview.stopCamera","SUCCESS"),a()},function(e){console.error("CameraPreview.stopCamera",e),a()}),this;this._show=e||{}}function a(){t.startCamera({x:0,y:0,width:n,height:r,camera:t.CAMERA_DIRECTION.BACK,toBack:!0,tapPhoto:!1,tapFocus:!1,previewDrag:!1},function(){console.error("CameraPreview.startCamera","SUCCESS"),o.style.display=null,document.body.parentNode.style.visibility="hidden"},function(e){return console.error("CameraPreview.startCamera",e)})}}},{key:"hide",value:function(){var e=this,t=window.CameraPreview,o=this._elements.overlay;return this._ready&&this._show&&(this._show=!1,window.Promise.all(this._operations).then(function(){t.stopCamera(function(){o.style.display="none",e._elements.photoOverlay.style.display="none",document.body.parentNode.style.visibility="visible",console.error("CameraPreview.stopCamera","SUCCESS")},function(e){return console.error("CameraPreview.stopCamera",e)})})),this}},{key:"takePhoto",value:function(){var t=this;if(this._ready){var o=document.createElement("div"),i=this._elements.overlay,n=this.getScreenDimensions(),r=n.width,a=n.height;o.className="camera-took-picture",this._takingPicture||(this._takingPicture=!0,i.classList.add("taking-picture")),o.addEventListener("transitionend",function(){t._takingPicture=!1,o.parentNode&&o.parentNode.removeChild(o)}),setTimeout(function(){return o.style.opacity="0"}),i.appendChild(o);var s=new window.Promise(function(o){var i=!1;window.CameraPreview.takePicture({width:r,height:a},function(n){var s={data:"data:image/jpg;base64,".concat(n[0]),width:r,height:a},h=e._photoWrapperTemplate.cloneNode(!0),c=h.querySelector(".camera-photo"),l=h.querySelector(".camera-photo-remove"),u=t._elements.bottomToolbar,m=new CustomEvent("tookphoto",{detail:{data:s.data,width:s.width,height:s.height}});c.style.backgroundImage='url("'.concat(s.data,'")'),u.insertBefore(h,u.childNodes[0]),setTimeout(function(){c.style.transform="scale(1)translate(0px, 0px)",l.style.transform="translateX(0px)"}),l.addEventListener("click",function(){t._removeImage(s)},!0),h.addEventListener("click",function(e){t._chooseActivePhoto(s,e)},!0),t.dispatchEvent(m),s.wrapper=h,s.element=c,t._images.unshift(s),t._doLayout(),i=!0,o()},function(){i=!0,o()}),setTimeout(function(){i||o()},3e3)});this._operations.push(s),s.then(function(){var e=t._operations.indexOf(s);-1!==e&&t._operations.splice(e,1)})}}},{key:"_removeImage",value:function(e){var t=this;if(e){var o=this._images.indexOf(e),i=e.wrapper;if(-1!==o&&this._images.splice(o,1),0===this._images.length&&this._showingPhotoOverlay&&this._hidePhotoOverlay(),e.removed=!0,i.style.transform="".concat(i.style.transform.split("scale(1)")[0],"scale(0)"),i.style.opacity="0",i.addEventListener("transitionend",function(){i.parentNode&&t._elements.bottomToolbar.removeChild(i)}),this._doLayout(),e===this._activePhoto){var n=this._images[o]||this._images[this._images.length-1];n&&this._chooseActivePhoto(n,null)}}}},{key:"_chooseActivePhoto",value:function(e,t){t&&t.target.classList&&t.target.classList.contains("camera-photo-remove")||(this._activePhoto&&this._activePhoto.wrapper.classList.remove("active"),this._activePhoto=e,this._showPhotoOverlay(),e.wrapper.classList.add("active"))}},{key:"_hidePhotoOverlay",value:function(){var e=this,t=this._activePhoto,o=(t||{wrapper:void 0}).wrapper,i=!1!==this._showingPhotoOverlay?this._showingPhotoOverlay.wrapper:this._showingPhotoOverlay,n=o&&o.getBoundingClientRect(),r=this._elements;if(i&&(o.classList.remove("active"),this._showingPhotoOverlay=!1,i.parentNode===r.photoOverlay)){var a=i.querySelector(".camera-photo");r.back.style.opacity="0",r.photoOverlayBackground.style.opacity="0",i.style.height=null,i.style.width=null,i.style.left="".concat(n.x/this._emToPx,"em"),i.style.bottom="0em",a.style.opacity="0",t.removed&&(i.style.transform="translate(0em,0em)scale(0)"),i.addEventListener("transitionend",function(){i.parentNode&&(e._showingPhotoOverlay||(r.photoOverlay.style.display="none"),r.photoOverlay.removeChild(i))})}}},{key:"_showPhotoOverlay",value:function(){var e=this,t=this._activePhoto,o=t.width,i=t.height,n=t.wrapper,r=t.data,a=n.getBoundingClientRect(),s=this._elements;this._showingPhotoOverlay&&this._hidePhotoOverlay();var h=(this._showingPhotoOverlay={data:r,width:o,height:i,wrapper:n.cloneNode(!0)}).wrapper,c=h.querySelector(".camera-photo"),l=h.querySelector(".camera-photo-remove");h.style.boxShadow="none",s.photoOverlay.style.display="block",h.style.transform="translate(0em,0em)scale(1)",h.style.left="".concat(a.x/this._emToPx,"em"),s.photoOverlay.appendChild(h),h.removeChild(l),c.style.opacity="0",setTimeout(function(){s.back.style.opacity="1",s.photoOverlayBackground.style.opacity="1",c.style.opacity="1",e._centerPhotoOverlay()})}},{key:"_centerPhotoOverlay",value:function(){var e,t=this.getScreenDimensions(),o=this._showingPhotoOverlay||{width:void 0,height:void 0,wrapper:void 0},i=o.width,n=o.height,r=o.wrapper;i>t.width&&(e=t.width/i),n>t.height&&(!e||t.height/n>e)&&(e=t.height/n),void 0===e&&(e=1);var a=(t.width-i*e)/2/this._emToPx,s=(t.height-n*e)/2/this._emToPx;r.style.height="".concat(n*e,"px"),r.style.width="".concat(i*e,"px"),r.style.left="".concat(a,"em"),r.style.bottom="".concat(s,"em")}},{key:"focus",value:function(e){var t=e.x,o=e.y,i=window.CameraPreview;return this._ready&&(console.error("MultiCamera.focus(".concat([t,o],")")),i.tapToFocus(t,o,function(){},function(e){return console.error("CameraPreview.tapToFocus",e)})),this}},{key:"switchCamera",value:function(){var e=this,t=window.CameraPreview;return this._ready&&t&&window.Promise.all(this._operations).then(function(){var o=new window.Promise(function(o){var i=!1;t.switchCamera(function(){e._frontCamera=!e._frontCamera,e.zoom(1),i=!0,o()},function(e){console.error("CameraPreview.switchCamera",e),i=!0,o()}),setTimeout(function(){i||o()},3e3)});e._operations.push(o),o.then(function(){var t=e._operations.indexOf(o);-1!==t&&e._operations.splice(t,1)})}),this}},{key:"zoom",value:function(e){var t=window.CameraPreview;if(this._ready&&t){var o=this._maxZoom,i=this._minZoom,n=this._elements,r=n.zoomBG,a=n.zoomBGWrapper,s=n.zoomThumb,h=r.getBoundingClientRect().height;e<i&&(e=i),e>o&&(e=o),this._zoom=e;var c=(e-1)/(this._maxZoom-1),l=c*h;return s.style.transform="translateY(".concat(-l,"px)translate(-50%, 50%)"),a.style.webkitMaskPosition="50% ".concat(100*c,"%"),t.setZoom(e,function(){},function(e){return console.error("CameraPreview.setZoom",e)}),this}}},{key:"_doLayout",value:function(){for(var e,t=this._images,o=t.length,i=0;i<o;i++)(e=t[i]).x=3.5*i,e.wrapper.style.transform="translate(".concat(3.5*i,"em, 0em)scale(1)");return this}},{key:"_reset",value:function(){var t=this._elements,o=t.bottomToolbar,i=t.zoomThumb,n=t.zoomBGWrapper;o.innerHTML="",i.style.transform="translateY(0px)translate(-50%, 50%)",n.style.webkitMaskPosition="50% 0%",this._images=[],this._touchState={type:e.touchTypes.NONE},this._frontCamera=!1,this._zoom=1,this._minZoom=1,this._maxZoom=5}},{key:"_onDeviceReady",value:function(){if(this._ready=!0,this._show){var e=this._show;this._show=!1,this.show(e)}this.zoom(this._zoom),this._onOrientationChange(),document.removeEventListener("deviceready",this._onDeviceReady)}},{key:"_onOverlayTouchStart",value:function(t){var o,i,r=this,a=this._elements,s=a.zoomPlus,h=a.zoomMinus,c=a.reverseCamera,l=a.overlay,u=t.target.classList||{contains:function(){return!1}},m=t.touches.length,v=this._touchState;if(u.contains("camera-zoom-part")&&1===m)v=this._touchState=n({},v,{type:e.touchTypes.DRAG_ZOOM_THUMB,zoom:this._zoom,xStart:t.pageX,yStart:t.pageY,target:t.target,startEvent:t});else if(t.target===s&&1===m)this._onZoomPlusMouseDown(),v=this._touchState=n({},v,{type:e.touchTypes.HOLD_ZOOM_PLUS,plusTimer:setTimeout(o=function(){r._onZoomPlusMouseDown(),v.plusTimer=setTimeout(o,100)},100)});else if(t.target===h&&1===m)this._onZoomMinusMouseDown(),v=this._touchState=n({},v,{type:e.touchTypes.HOLD_ZOOM_MINUS,minusTimer:setTimeout(i=function(){r._onZoomMinusMouseDown(),v.minusTimer=setTimeout(i,100)},100)});else if(t.target===c&&1===m)this.switchCamera();else if(u.contains("camera-take-photo-part")&&1===m)this.takePhoto();else if(t.target===l){v.type=e.touchTypes.DRAG_ZOOM_FINGERS;var d,y,p,_=t.changedTouches;v.starts||(v.starts={length:0},v.order=[],v.zoom=this._zoom),y=v.starts,d=v.order;for(var f=0,w=_.length;f<w;f++)y[(p=_[f]).identifier]||(y[p.identifier]={x:p.pageX,y:p.pageY},y.length++,d.push(p.identifier));y.length>1&&(v.not_click=!0)}}},{key:"_onOverlayTouchEnd",value:function(t){var o=this._touchState,i=o.type;if(i===e.touchTypes.HOLD_ZOOM_PLUS)clearTimeout(o.plusTimer),o={type:e.touchTypes.NONE};else if(i===e.touchTypes.HOLD_ZOOM_MINUS)clearTimeout(o.minusTimer),o={type:e.touchTypes.NONE};else if(i===e.touchTypes.DRAG_ZOOM_FINGERS){o.not_click||this._onOverlayClick(t);for(var n,r=t.changedTouches,a=o.starts,s=o.order,h=0,c=r.length;h<c;h++)a[(n=r[h]).identifier]&&(s.splice(s.indexOf(n.identifier),1),delete a[n.identifier],a.length--);0===a.length&&(o={type:e.touchTypes.NONE})}else(o={type:e.touchTypes.NONE}).type=e.touchTypes.NONE;this._touchState=o}},{key:"_onOverlayTouchCancel",value:function(e){this._onOverlayTouchEnd(e)}},{key:"_onOverlayTouchMove",value:function(t){var o=this._touchState,i=o.type;if(i===e.touchTypes.DRAG_ZOOM_THUMB){var n=t.pageY-o.yStart,r=this._elements.zoomBG.getBoundingClientRect().height;this.zoom(o.zoom-n/r*3)}else if(i==e.touchTypes.DRAG_ZOOM_FINGERS){for(var a,s,h,c,l,u,m,v,d,y,p,_,f,w=o.starts,g=o.order,O=w[g[0]],P=w[g[1]],k=t.touches,C=this.getScreenDimensions(),T=C.width,b=C.height,S=0,E=k.length;S<E;S++)if((_=k[S]).identifier===g[0]){if(a=_,s)break}else if(_.identifier===g[1]&&(s=_,a))break;O&&(h=O.x,l=O.y),a&&(m=a.pageX,d=a.pageY),!o.not_click&&O&&a&&(p=Math.sqrt(Math.pow(h-m,2)+Math.pow(l-d,2)),Math.abs(p)>7&&(o.not_click=!0)),O&&P&&a&&s&&(c=P.x,u=P.y,v=s.pageX,y=s.pageY,p=Math.sqrt(Math.pow(c-h,2)+Math.pow(u-l,2)),f=Math.sqrt(Math.pow(v-m,2)+Math.pow(y-d,2))-p,this.zoom(o.zoom+f/Math.min(T,b)*6))}}},{key:"_onOrientationChange",value:function(){var e=this,t=window.CameraPreview,o=this.getScreenDimensions(),i=o.width,n=o.height;this.show&&this._ready&&t&&t.setPreviewSize(o,function(){var t=e.getScreenDimensions();t.width===i&&t.height===n||e._onOrientationChange()},function(e){return console.error("CameraPreview.setPreviewSize",e)}),this._showingPhotoOverlay&&this._centerPhotoOverlay()}},{key:"_onOverlayClick",value:function(e){var t=e.pageX,o=e.pageY;this.focus({x:t,y:o})}},{key:"_onReverseCameraClick",value:function(){this.switchCamera()}},{key:"_onZoomPlusMouseDown",value:function(){this._zoom+.15<=this._maxZoom?this.zoom(this._zoom+.15):this.zoom(this._maxZoom)}},{key:"_onZoomMinusMouseDown",value:function(){this._zoom-.15>=this._minZoom?this.zoom(this._zoom-.15):this.zoom(this._minZoom)}},{key:"_onTakePhotoTransitionEnd",value:function(){var e=this._elements.overlay;e&&e.classList&&e.classList.contains("taking-picture")&&e.classList.remove("taking-picture")}},{key:"_onPhotoOverlayBackClick",value:function(){this._hidePhotoOverlay()}},{key:"_onCancelClick",value:function(){var e=this;this._show&&(this.hide(),window.Promise.all(this._operations).then(function(){var t=new CustomEvent("cancel",{detail:[]});e.dispatchEvent(t),e._reset()}))}},{key:"_onUsePhotosClick",value:function(){var e=this;this._show&&(this.hide(),window.Promise.all(this._operations).then(function(){console.error("donenenene");var t=new CustomEvent("usephotos",{detail:e._images.map(function(e){return{width:e.width,height:e.height,data:e.data}})});e.dispatchEvent(t),e._reset()}))}}],[{key:"show",value:function(t,i){console.error("staticshow...");var n=this._camera,r=function e(){t&&t([]),n.removeEventListener("usephotos",a),n.removeEventListener("cancel",e)},a=function e(o){console.error("in use photos"),t&&t(o.detail),n.removeEventListener("usephotos",e),n.removeEventListener("cancel",r)};return 1===arguments.length&&"object"===o(t)&&(i=t,t=void 0),n||(n=this._camera=new e,document.body.appendChild(n._element)),n.addEventListener("usephotos",a),n.addEventListener("cancel",r),n.show(i),this}},{key:"hide",value:function(){return this._camera&&this._camera.hide(),this}},{key:"addEventListener",value:function(){return this._camera.addEventListener.apply(this._camera,arguments),this}},{key:"removeEventListener",value:function(){return this._camera.removeEventListener.apply(this._camera,arguments),this}}]),e}();exports.MultiCamera=c,c.touchTypes={NONE:0,DRAG_ZOOM_THUMB:1,DRAG_ZOOM_FINGERS:2,HOLD_ZOOM_PLUS:4,HOLD_ZOOM_MINUS:8},c._photoWrapperTemplate=function(){var e=document.createElement("div");return e.innerHTML='\n            <div class="camera-photo-wrapper">\n                <div class="camera-photo"></div>\n                <div class="camera-photo-remove">-</div>\n            </div> ',e.children[0]}(),c._template=function(){var o=document.createElement("div");return o.innerHTML="\n            ".concat(e.html,"\n            <style>\n            ").concat(t.css,"\n            </style>\n        "),o.children[0]}();
},{"./multicamera.html":"Vusr","./multicamera.css":"8FBE"}],"Focm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./multicamera");Object.keys(e).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(exports,t,{enumerable:!0,get:function(){return e[t]}})}),"undefined"!=typeof window&&(window.MultiCamera=e.MultiCamera);
},{"./multicamera":"igz5"}]},{},["Focm"], null)
//# sourceMappingURL=/multi-camera.js.map