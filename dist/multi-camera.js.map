{"version":3,"sources":["../src/multicamera.html.ts","../src/multicamera.css.ts","../src/multicamera.ts","../src/index.ts"],"names":[],"mappings":"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","file":"multi-camera.js","sourceRoot":"../lib","sourcesContent":["export const html = `\n<div class=\"camera-overlay\">\n    <div class=\"camera-zoom camera-zoom-part\">\n        <div class=\"camera-zoom-stretch camera-zoom-part\"></div>\n        <div class=\"camera-zoom-plus\">+</div>\n        <div class=\"camera-zoom-background-wrapper camera-zoom-part\">\n            <div class=\"camera-zoom-background camera-zoom-part\"></div>\n        </div>\n        <div class=\"camera-zoom-minus\">-</div>\n        <div class=\"camera-zoom-thumb camera-zoom-part\"></div>\n    </div>\n    <div class=\"camera-reverse-back\"></div>\n    <div class=\"camera-reverse\"></div>\n    <div class=\"camera-take-photo-border camera-take-photo-part\"></div>\n    <div class=\"camera-take-photo camera-take-photo-part\"></div>\n        <a class=\"camera-cancel camera-text-option\" href=\"javascript:void(0);\" >Cancel</a>\n        <a class=\"camera-use-photos camera-text-option\" href=\"javascript:void(0);\">Use Photos</a>\n    <div class=\"camera-indicator top\">\n        <span class=\"camera-indicator-line\"></span>\n        <span class=\"camera-indicator-text\"></span>\n    </div>\n    <div class=\"camera-indicator bottom\">\n        <span class=\"camera-indicator-line\"></span>\n        <span class=\"camera-indicator-text\"></span>\n    </div>\n    <div class=\"camera-indicator right\">\n        <span class=\"camera-indicator-line\"></span>\n        <span class=\"camera-indicator-text\">Photos</span>\n    </div>\n    <div class=\"camera-indicator left\">\n        <span class=\"camera-indicator-line\"></span>\n        <span class=\"camera-indicator-text\"></span>\n    </div>\n    <div class=\"camera-photo-overlay\">\n        <div class=\"camera-photo-overlay-background\"></div>\n        <a href=\"javascript:void(0)\" class=\"camera-photo-overlay-text back\">Back To Camera</a>\n    </div>\n    <div class=\"camera-bottom-toolbar\" >\n    </div>\n</div>\n`\n","export const css = `\n    .camera-photo-overlay-text.back {\n        transition: opacity 300ms;\n        position: absolute;\n        left: 0.3em;\n        bottom: 4.0em;\n        border-bottom:solid 2px blue;\n        text-shadow:0px 0px 10px rgba(0,0,0,0.5);\n        color: white;\n        z-index: 1;\n        opacity: 0;\n        text-decoration:none;\n        pointer-events:all;\n        padding:0.2em 0.5em;\n    }\n    .camera-photo-overlay-background {\n        position:absolute;\n        top:0;\n        left:0;\n        right:0;\n        bottom:0;\n        background-color:black;\n        opacity: 0;\n        transition: opacity 300ms;\n    }\n    .camera-photo-overlay {\n        position:absolute;\n        top:0;\n        left:0;\n        width: 100%;\n        height: 100%;\n        pointer-events:none;\n        display:none;\n    }\n    .camera-photo-overlay .camera-photo-wrapper {\n        z-index: 0;\n    }\n    .camera-indicator .camera-indicator-text {\n        transform:translate(-50%,-50%);\n        top:50%;\n        left:50%;\n        position:absolute;\n        color:white;\n    }\n    .camera-indicator.left .camera-indicator-text {\n        display:none;\n    }\n    .camera-indicator.left .camera-indicator-line,\n    .camera-indicator.right .camera-indicator-line\n    {\n        position: absolute;\n        top:0;\n        bottom:0;\n        left:0;\n        right:0;\n        background:rgba(50,150,255,0.7);\n        -webkit-mask:linear-gradient(90deg, black 0%, transparent 50%,   black 100%);\n        -webkit-mask-size:100% 100%;\n        -webkit-mask-position:0% 0%;\n        -webkit-mask-repeat: no-repeat;\n    }\n    .camera-indicator {\n        position:absolute;\n        overflow:visible;\n    }\n    .camera-indicator.left {\n        right: 7em;\n        left: 5em;\n        bottom: 4.0em;\n        height: 1px;\n        display:none;\n    }\n    .camera-indicator.right {\n        right: 0.3em;\n        left: 0.3em;\n        top: 1.5em;\n        height: 1px;\n    }\n    .camera-indicator.bottom .camera-indicator-text,\n    .camera-indicator.top .camera-indicator-text\n    {\n        transform:translate(-50%,-50%)rotate(-90deg);\n        top:50%;\n        left:0%;\n        position:absolute;\n        color:white;\n    }\n    .camera-indicator.top .camera-indicator-text {\n        margin-top:-1em;\n    }\n    .camera-indicator.top .camera-indicator-line,\n    .camera-indicator.bottom .camera-indicator-line {\n        position: absolute;\n        top:0;\n        bottom:5.5em;\n        left:0;\n        right:0;\n        background:rgba(50,150,255,0.7);\n        -webkit-mask:linear-gradient(transparent 3em, black 0%, transparent 57%,   black 100%);\n        -webkit-mask-size:100% 100%;\n        -webkit-mask-position:0% 0%;\n        -webkit-mask-repeat: no-repeat;\n    }\n    .camera-indicator.bottom {\n        display:none;\n        right: 0.3em;\n        top: 0em;\n        bottom: 0em;\n        width: 1px;\n    }\n    .camera-indicator.top {\n        display:none;\n        left: 0.3em;\n        top: 0em;\n        bottom: 0em;\n        width: 1px;\n    }\n\n    .camera-overlay {\n        visibility:visible;\n        position:fixed;\n        top:0;\n        left:0;\n        right:0;\n        bottom:0;\n        -webkit-user-select:none;\n    }\n    .camera-took-picture {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: #000;\n        transition: opacity 300ms;\n        opacity: 1;\n    }\n    .camera-take-photo-border {\n        position:absolute;\n        top: 50%;\n        right: -0.25em;\n        transform: scale(1)translate(-50%, -50%);\n        border-radius:50%;\n        height:3.75em;\n        width:3.75em;\n        background:transparent;\n        box-shadow:0px 0px 0px 0.35em white, 0px 0px 0px 0.4em rgba(0,0,0,0.3);\n        transition: transform 500ms;\n        transform-origin: 0 0;\n        transition: transform 100ms linear;\n    }\n    .camera-take-photo {\n        position:absolute;\n        top:50%;\n        right: 0;\n        transform: scale(1)translate(-50%, -50%);\n        transform-origin: 0 0;\n        border-radius:50%;\n        height:3.5em;\n        width:3.5em;\n        background:white;\n        transition: transform 175ms linear;\n    }\n    .taking-picture .camera-take-photo {\n        transform: scale(0.9)translate(-50%, -50%);\n    }\n    .camera-reverse-back {\n        top: 50%;\n        right: 0.95em;\n        transform: scale(1)translate(0,-5em)translate(-50%, -50%);\n        height: 2.5em;\n        width: 2.5em;\n        background-image:url('/images/camera_reverse_back.svg');\n        background-repeat:no-repeat;\n        background-size:2.5em 2.5em;\n        position: absolute;\n    }\n    .camera-reverse {\n        top: 50%;\n        right: 0.95em;\n        transform: scale(1)translate(0,-5em)translate(-50%, -50%);\n        height: 2.5em;\n        width: 2.5em;\n        background-image:url('/images/camera_reverse.svg');\n        background-repeat:no-repeat;\n        background-size:2.5em 2.5em;\n        position: absolute;\n    }\n    .camera-bottom-toolbar {\n        position:absolute;\n        bottom:0;\n        left:0;\n        right:0;\n        //top: 0;\n        //z-index:-1;\n        //pointer-events: none;\n        //height:5em;\n        height: 4.1em;\n        background:rgba(0,0,0,0.1);\n        overflow-x:scroll;\n        -webkit-overflow-scrolling:touch;\n    }\n    .camera-image {\n        position:relative;\n        display:inline-block;\n        margin-right: 0.5em;\n        box-shadow:0px 0px 0px 0.5em black;\n        height:5em;\n        width:5em;\n    }\n    .camera-text-option {\n        color: white;\n        text-shadow:0px 0px 10px rgba(0,0,0,0.5);\n        text-decoration: none;\n        padding:0 0.5em;\n        //background:rgba(0,0,0,0.35);\n    }\n    .camera-use-photos {\n        position:absolute;\n        right: 0.3em;\n        bottom: 4.0em;\n        border-bottom:solid 2px rgba(100,255,100,0.7);\n        padding:0.2em 0.5em;\n    }\n    .camera-cancel {\n        position: absolute;\n        left: 0.3em;\n        bottom: 4.0em;\n        border-bottom:solid 2px red;\n        padding:0.2em 0.5em;\n    }\n    .camera-zoom {\n        position: absolute;\n        top: 50%;\n        left: 2em;\n        height: 15em;\n        transform: translate(0, -50%);\n    }\n    .camera-zoom-background-wrapper {\n        position: absolute;\n        width: 0.5em;\n        transform: translate(-50%, 0);\n        top: 0;\n        bottom: 0;\n        -webkit-mask: radial-gradient(transparent .75em, black .75em, black 25em);\n        -webkit-mask-size:30em 30em;\n        -webkit-mask-position:50% 0%;\n        -webkit-mask-repeat: no-repeat;\n    }\n    .camera-zoom-background {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        box-shadow: inset 0px 0px 0px 1px rgba(255,255,255,0.2);\n        background:rgba(0,0,0,0.3);\n        //opacity: 0.25;\n        overflow:visible;\n        left: 0;\n        right: 0;\n        border-radius: 1em;\n    }\n    .camera-zoom-plus {\n        color: white;\n        font-size: 1.5em;\n        text-shadow:0px 0px 10px rgba(0,0,0,0.5);\n        bottom: 100%;\n        position:absolute;\n        left: 0;\n        padding: 0.5em;\n        transform: translate(-50%, 0);\n    }\n    .camera-zoom-minus {\n        color: white;\n        font-size: 2em;\n        text-shadow:0px 0px 10px rgba(0,0,0,0.5);\n        padding: 0.5em;\n        top: 100%;\n        left: 0;\n        transform: translate(-50%, 0);\n        margin-top: -0.25em;\n        position:absolute;\n    }\n\n    .camera-zoom-thumb {\n        box-shadow: 0px 0px 0px 0.15em rgba(100,255,100,0.7);\n        border-radius: 50%;\n        height: 1.5em;\n        width: 1.5em;\n        transform:translate(-50%, 50%);\n        bottom: 0%;\n        position:absolute;\n    }\n    .camera-zoom-stretch {\n        position:absolute;\n        left: -1em;\n        top: -1em;\n        right: -1em;\n        bottom: -1em;\n    }\n    .camera-photo-wrapper {\n        transform: translate(0em,0em)scale(1);\n        transition: transform 300ms, width 300ms, height 300ms, opacity 300ms, left 300ms, bottom 300ms;\n        overflow: visible;\n        position: absolute;\n        left: 0;\n        box-shadow: -1px 0px 0px rgba(255,255,255,.5);\n        bottom: 0;\n        width: 3.5em;\n        height: 3.5em;\n        opacity: 0.85;\n        transform-origin: 0% 50%;\n    }\n    .camera-photo-wrapper.active::after {\n        content: \" \";\n        position:absolute;\n        top:0;\n        bottom:0;\n        left:0;\n        right:0;\n        background:rgba(100,255,100,0.35);\n    }\n    .camera-photo {\n        background-color: black;\n        transition: transform 300ms, opacity 300ms;\n        transform: scale(0)translate(0px,0px);\n        transform-origin: 0% 50%;\n        opacity: 1;\n        background-size: cover;\n        background-position: center;\n        width: 100%;\n        height: 100%;\n        background-repeat:no-repeat;\n        position:absolute;\n        z-index:0;\n    }\n    .camera-photo-remove {\n        background-color:rgba(255,0,0,0.5);\n        box-shadow:  0px 5px 10px rgba(0,0,0,0.5);\n        text-shadow:  0px 0px 1px black;\n        background-color:rgba(0,0,0,0.5);\n        background-color:rgba(200,200,200,.8);\n        //border:solid 1px rgba(255,255,255,.5);\n        color: white;\n        //border-radius:50%;\n        //box-shadow: -1px 0px 0px white;\n        text-align:center;\n        transition: transform 300ms;\n        transform: translateX(-100%);\n        position:absolute;\n        //top:-1em;\n        z-index:1;\n        font-weight:bold;\n        //bottom:100%;\n        //left:50%;\n        width:100%;\n        //top:0;\n        //padding: 0.05em 0 0.05em;\n        height: auto;\n        //padding: 0.15em 0;\n        //bottom:100%;\n        top: 0.05em;\n        //box-shadow: 0px 0px 0px 1px rgba(255,255,255,.5);\n        right: 0.05em;\n        border-radius: 50%;\n        height: 1.5em;\n        width: 1.5em;\n    }\n`;\n","import {html} from './multicamera.html';\nimport {css} from './multicamera.css';\n\ninterface MultiCameraConfig {\n}\n\nexport interface MultiCameraImg {\n    data: string;\n    width:number;\n    height: number;\n}\n\nexport interface UsePhotoEvent extends CustomEvent {\n    detail: MultiCameraImg[];\n};\n\nexport interface CancelEvent extends CustomEvent {\n    detail: MultiCameraImg[];\n}\nexport interface TookPhotoEvent extends CustomEvent {\n    detail: MultiCameraImg;\n}\n\nexport interface MultiCameraEvents {\n    usephotos:  UsePhotoEvent;\n    cancel: CancelEvent;\n    tookphoto:  TookPhotoEvent;\n}\n\nexport interface MultiCameraImage extends MultiCameraImg {\n    wrapper?: HTMLElement;\n    element?: HTMLElement;\n    removed?: boolean;\n    x?: number;\n}\n\nexport type MultiCameraElements =\n        'overlay' |\n        'zoomPlus' |\n        'zoomMinus' |\n        'zoomThumb' |\n        'zoomBG' |\n        'zoomBGWrapper' |\n        'reverseCamera' |\n        'cancel' |\n        'takePhoto' |\n        'usePhotos' |\n        'bottomToolbar' |\n        'topIndicatorText' |\n        'bottomIndicatorText' |\n        'leftIndicatorText' |\n        'rightIndicatorText' |\n        'photoOverlay' |\n        'photoOverlayBackground' |\n        'back';\n\nexport class MultiCamera {\n    _element: HTMLElement;\n    _operations: Promise<any>[];\n    _elements: {[key in MultiCameraElements]: HTMLElement};\n    _emToPx: number;\n    _show: MultiCameraConfig | boolean;\n    _ready: boolean;\n    _takingPicture: boolean;\n    _showingPhotoOverlay: MultiCameraImage | false;\n    _images: MultiCameraImage[] = [];\n    _activePhoto: MultiCameraImage;\n    _frontCamera: boolean;\n    _maxZoom: number = 5;\n    _minZoom: number = 1;\n    _zoom: number = 1;\n    _touchState: {\n        type: MultiCamera['touchTypes'][keyof MultiCamera['touchTypes']];\n        zoom?: number;\n        xStart?: number;\n        yStart?: number;\n        target?: HTMLElement;\n        startEvent?: Event;\n        plusTimer?: any;\n        minusTimer?: any;\n        starts?: {length: number, [key: number]: {x: number; y:number;}};\n        order?: number[]\n        not_click?: boolean;\n    };\n    _events: {\n        [key in keyof MultiCameraEvents]: ((event: MultiCameraEvents[key]) => (void | null | undefined | boolean))[]\n    } = {\n        usephotos: [],\n        cancel: [],\n        tookphoto: []\n    };\n    \n    constructor () {\n        MultiCamera._camera = this;\n\n        const element = this._element = (MultiCamera._template as HTMLElement).cloneNode(true) as HTMLElement;\n        const {overlay, takePhoto, back, cancel, usePhotos} = this._elements = {\n            overlay: element,\n            zoomPlus: element.querySelector('.camera-zoom-plus'),\n            zoomMinus: element.querySelector('.camera-zoom-minus'),\n            zoomThumb: element.querySelector('.camera-zoom-thumb'),\n            zoomBG: element.querySelector('.camera-zoom-background'),\n            zoomBGWrapper: element.querySelector('.camera-zoom-background-wrapper'),\n            reverseCamera: element.querySelector('.camera-reverse'),\n            cancel: element.querySelector('.camera-cancel'),\n            takePhoto: element.querySelector('.camera-take-photo'),\n            usePhotos: element.querySelector('.camera-use-photos'),\n            bottomToolbar: element.querySelector('.camera-bottom-toolbar'),\n            topIndicatorText: element.querySelector('.camera-indicator.top .camera-indicator-text'),\n            bottomIndicatorText: element.querySelector('.camera-indicator.bottom .camera-indicator-text'),\n            leftIndicatorText: element.querySelector('.camera-indicator.left .camera-indicator-text'),\n            rightIndicatorText: element.querySelector('.camera-indicator.right .camera-indicator-text'),\n            photoOverlay: element.querySelector('.camera-photo-overlay'),\n            photoOverlayBackground: element.querySelector('.camera-photo-overlay-background'),\n            back: element.querySelector('.camera-photo-overlay-text.back')\n        },\n        emTest = document.createElement('div');\n        emTest.style.width = emTest.style.height = '1em';\n        emTest.style.position = 'absolute';\n        emTest.style.opacity = '0';\n        this._element.appendChild(emTest);\n        this._emToPx = emTest.clientWidth;\n        this._element.removeChild(emTest);\n        console.error(element);\n        console.error(overlay);\n\n        overlay.style.display = 'none';\n\n        this._reset();\n        this._operations = [];\n        this._onDeviceReady = this._onDeviceReady.bind(this);\n        this._onOrientationChange = this._onOrientationChange.bind(this);\n\n        cancel.addEventListener('click', () => this._onCancelClick(), true);\n        usePhotos.addEventListener('click', () => this._onUsePhotosClick(), true);\n        overlay.addEventListener('touchend', (event: MouseEvent & TouchEvent) => this._onOverlayTouchEnd(event), true);\n        back.addEventListener('click', () => this._onPhotoOverlayBackClick(), true);\n        overlay.addEventListener('touchmove', (event: MouseEvent & TouchEvent) => this._onOverlayTouchMove(event), true);\n        overlay.addEventListener('touchstart', (event: MouseEvent & TouchEvent) => this._onOverlayTouchStart(event), true);\n        overlay.addEventListener('touchcancel', (event: MouseEvent & TouchEvent) => this._onOverlayTouchCancel(event), true);\n        takePhoto.addEventListener('transitionend', () => this._onTakePhotoTransitionEnd());\n\n        //TODO consider add in show remove eventlistener in hide\n        window.addEventListener('resize', this._onOrientationChange);\n\n        if (typeof window['device'] === 'undefined' || typeof window['device'].cordova === 'undefined') {\n            document.addEventListener('deviceready', this._onDeviceReady);\n        } else {\n            this._onDeviceReady();\n        }\n    }\n\n    addEventListener<A extends keyof MultiCameraEvents = keyof MultiCameraEvents> (name: A, fn: ((event: MultiCameraEvents[A]) => (void | null | undefined | boolean))) {\n        (this._events[name] as any).push(fn as (event: Event) => any);\n    }\n\n    removeEventListener<A extends keyof MultiCameraEvents = keyof MultiCameraEvents> (name: A, fn: ((event: MultiCameraEvents[A]) => (void | null | undefined | boolean))) {\n        const events = this._events[name],\n            index = (events as any).indexOf(fn as (event: Event) => any);\n        if (index !== -1) {\n            events.splice(index, 1);\n        }\n    }\n\n    dispatchEvent<A extends keyof MultiCameraEvents>(event: MultiCameraEvents[A]) {\n        const events = this._events[event.type];\n        for (var i=0,ln=events.length;i<ln;i++) {\n            events[i](event);\n        }\n    }\n\n    getScreenDimensions () {\n        var {height, width} = window.screen;\n\n        if (typeof orientation === 'number') {\n            if (Math.abs(parseInt(`${window.orientation}`) / 90) === 1) {\n                height = window.screen.width;\n                width = window.screen.height;\n            }\n        }\n        return {width, height};\n    }\n\n    show (config: MultiCameraConfig) {\n        const preview = window['CameraPreview'],\n            {overlay} = this._elements,\n            {width, height} = this.getScreenDimensions();\n\n        //TODO check this\n        overlay.style.display = 'none';\n\n        if (this._show === true) {\n            return;\n        }\n        if (!this._ready || !preview) {\n            this._show = config || {};\n            return;\n        }\n\n        this._show = true;\n\n        preview.stopCamera(\n            () => {\n                console.error('CameraPreview.stopCamera', 'SUCCESS');\n                startCamera();\n            }, \n            (err: Error) => {\n                console.error('CameraPreview.stopCamera', err);\n                startCamera();\n            }\n        );\n\n        function startCamera () {\n            preview.startCamera({\n                    x: 0,\n                    y: 0,\n                    width,\n                    height,\n                    camera: preview.CAMERA_DIRECTION.BACK,\n                    toBack: true,\n                    tapPhoto: false,\n                    tapFocus: false,\n                    previewDrag: false\n                }, \n                () => {\n                    console.error('CameraPreview.startCamera', 'SUCCESS');\n                    overlay.style.display = null;\n                    (document.body.parentNode as HTMLElement).style.visibility = \"hidden\";\n                },\n                (err: Error) => console.error('CameraPreview.startCamera', err)\n            );\n        }\n        return this;\n    }\n\n    hide () {\n        const preview = window['CameraPreview'],\n            {overlay} = this._elements;\n        if (this._ready && this._show) {\n            this._show = false;\n            window['Promise'].all(this._operations).then(() => {\n                preview.stopCamera(\n                    () => {\n                        overlay.style.display = 'none';\n                        this._elements.photoOverlay.style.display = 'none';\n                        (document.body.parentNode as HTMLElement).style.visibility = 'visible';\n                        console.error('CameraPreview.stopCamera', 'SUCCESS');\n                    },\n                    (err: Error) => console.error('CameraPreview.stopCamera', err)\n                )\n            });\n        }\n        return this;\n    }\n\n    takePhoto () {\n        if (!this._ready) {\n            return;\n        }\n        const tookPicture = document.createElement('div'),\n            {overlay} = this._elements,\n            {width, height} = this.getScreenDimensions();\n\n        tookPicture.className = 'camera-took-picture';\n\n        if (!this._takingPicture) {\n            this._takingPicture = true;\n            overlay.classList.add('taking-picture');\n        }\n\n        tookPicture.addEventListener('transitionend', () => {\n            this._takingPicture = false;\n            if (tookPicture.parentNode) {\n                tookPicture.parentNode.removeChild(tookPicture);\n            }\n        });\n\n        setTimeout(() => tookPicture.style.opacity = '0');\n        overlay.appendChild(tookPicture);\n\n        const promise = new window['Promise']((resolve) => {\n            var resolved = false;\n            const preview = window['CameraPreview'];\n\n            preview.takePicture({width, height}, (base64: string[]) => {\n                const image:  MultiCameraImage = {\n                    data: `data:image/jpg;base64,${base64[0]}`,\n                    width,\n                    height\n                },\n                photoWrapper = MultiCamera._photoWrapperTemplate.cloneNode(true) as HTMLElement,\n                photoElement = photoWrapper.querySelector('.camera-photo') as HTMLElement,\n                removeElement = photoWrapper.querySelector('.camera-photo-remove') as HTMLElement,\n                {bottomToolbar} = this._elements,\n                tookPhotoEvent = new CustomEvent('tookphoto', {detail: {data: image.data, width:image.width, height:image.height}});\n\n                photoElement.style.backgroundImage = `url(\"${image.data}\")`;\n                bottomToolbar.insertBefore(photoWrapper, bottomToolbar.childNodes[0]);\n\n                setTimeout(() => {\n                    photoElement.style.transform = 'scale(1)translate(0px, 0px)';\n                    removeElement.style.transform = 'translateX(0px)';\n                });\n\n                removeElement.addEventListener('click', () => {\n                    this._removeImage(image);\n                }, true);\n                photoWrapper.addEventListener('click', ($event: MouseEvent) => {\n                    this._chooseActivePhoto(image, $event);\n                }, true);\n\n\n                this.dispatchEvent(tookPhotoEvent);\n\n                image.wrapper = photoWrapper;\n                image.element = photoElement;\n                this._images.unshift(image);\n                this._doLayout();\n                resolved = true;\n                resolve();\n            }, () => {\n                resolved = true;\n                resolve();\n            });\n            setTimeout(() => {\n                if (!resolved) {\n                    resolve();\n                }\n            }, 3000)\n        });\n        this._operations.push(promise);\n        promise.then(() => {\n            const index = this._operations.indexOf(promise);\n            if (index !== -1) {\n                this._operations.splice(index, 1);\n            }\n        });\n    }\n\n    _removeImage (image: MultiCameraImage) {\n        if (!image) {\n            return;\n        }\n        const index = this._images.indexOf(image),\n            {wrapper} = image;\n\n        if (index !== -1) {\n            this._images.splice(index, 1);\n        }\n        if (this._images.length === 0 && this._showingPhotoOverlay) {\n            this._hidePhotoOverlay();\n        }\n        image.removed = true;\n        wrapper.style.transform = `${wrapper.style.transform.split('scale(1)')[0]}scale(0)`;\n        wrapper.style.opacity = '0';\n        wrapper.addEventListener('transitionend', () => {\n            if (wrapper.parentNode) {\n                this._elements.bottomToolbar.removeChild(wrapper)\n            }\n        });\n        this._doLayout();\n\n        if (image === this._activePhoto) {\n            const next = this._images[index] || this._images[this._images.length - 1];\n            if (next) {\n                this._chooseActivePhoto(next, null);\n            }\n        }\n    }\n\n    _chooseActivePhoto (image: MultiCameraImage, event: Event) {\n        if (event && event.target['classList'] && event.target['classList'].contains('camera-photo-remove')) {\n            return;\n        }\n        if (this._activePhoto) {\n            this._activePhoto.wrapper.classList.remove('active')\n        }\n        this._activePhoto = image;\n        this._showPhotoOverlay();\n        image.wrapper.classList.add('active');\n    }\n\n    _hidePhotoOverlay () {\n        const image = this._activePhoto,\n            {wrapper: original} = image || {wrapper: undefined},\n            wrapper = this._showingPhotoOverlay !== false ? this._showingPhotoOverlay.wrapper : this._showingPhotoOverlay,\n            rect = original && original.getBoundingClientRect() as ClientRect & {x: number},\n            elements = this._elements;\n\n        if (!wrapper) {\n            return;\n        }\n\n        original.classList.remove('active');\n        this._showingPhotoOverlay = false;\n\n        if (wrapper.parentNode === elements.photoOverlay) {\n            const photo = wrapper.querySelector('.camera-photo') as HTMLElement;\n            elements.back.style.opacity = '0';\n            elements.photoOverlayBackground.style.opacity = '0';\n            wrapper.style.height = null;\n            wrapper.style.width = null;\n            wrapper.style.left = `${rect.x / this._emToPx}em`;\n            wrapper.style.bottom = '0em';\n            photo.style.opacity = '0';\n            if (image.removed) {\n                wrapper.style.transform = 'translate(0em,0em)scale(0)';\n            }\n            wrapper.addEventListener('transitionend', () => {\n                if (wrapper.parentNode) {\n                    if (!this._showingPhotoOverlay) {\n                        elements.photoOverlay.style.display = 'none';\n                    }\n                   elements.photoOverlay.removeChild(wrapper);\n                }\n            });\n        }\n    }\n\n    _showPhotoOverlay () {\n        const image =  this._activePhoto,\n            {width, height, wrapper: original, data} = image,\n            rect = original.getBoundingClientRect() as ClientRect & {x: number},\n            elements = this._elements;\n\n        if (this._showingPhotoOverlay) {\n            this._hidePhotoOverlay()\n        }\n\n        const {wrapper} = this._showingPhotoOverlay = {data, width, height, wrapper: original.cloneNode(true) as HTMLElement},\n            photo = wrapper.querySelector('.camera-photo') as HTMLElement,\n            remove = wrapper.querySelector('.camera-photo-remove')\n\n        wrapper.style.boxShadow = 'none';\n        elements.photoOverlay.style.display = 'block';\n\n        wrapper.style.transform = 'translate(0em,0em)scale(1)'\n        wrapper.style.left = `${rect.x/this._emToPx}em`\n\n        elements.photoOverlay.appendChild(wrapper);\n        wrapper.removeChild(remove)\n\n        photo.style.opacity = '0';\n\n        setTimeout(() => {\n            elements.back.style.opacity = '1';\n            elements.photoOverlayBackground.style.opacity = '1';\n            photo.style.opacity = '1';\n            this._centerPhotoOverlay();\n        });\n    }\n\n    _centerPhotoOverlay () {\n        const dimensions = this.getScreenDimensions(),\n            cloneImage = this._showingPhotoOverlay;\n        var {width, height, wrapper} = cloneImage || {width: undefined, height: undefined, wrapper: undefined};\n        var scale: number; \n\n        if (width > dimensions.width) {\n            scale = dimensions.width / width;\n        }\n        if (height > dimensions.height) {\n            if (!scale || ((dimensions.height / height) > scale)) {\n                scale = dimensions.height / height;\n            }\n        }\n        if (scale === undefined) {\n            scale = 1;\n        }\n\n        const cx = (dimensions.width - width * scale) / 2 / this._emToPx,\n            cy = (dimensions.height - height * scale) / 2 / this._emToPx;\n\n        wrapper.style.height = `${height*scale}px`;\n        wrapper.style.width = `${width*scale}px`;\n        wrapper.style.left = `${cx}em`;\n        wrapper.style.bottom = `${cy}em`;\n    }\n\n    focus ({x, y}: {x:number, y:number}) {\n        const preview = window['CameraPreview']\n        if (this._ready) {\n            console.error(`MultiCamera.focus(${[x,y]})`);\n            preview.tapToFocus(x, y, () => {}, (err: Error) => console.error('CameraPreview.tapToFocus', err));\n        }\n        return this;\n    }\n\n    switchCamera () {\n        const preview = window['CameraPreview'];\n        if (this._ready && preview) {\n            window['Promise'].all(this._operations).then(() => {\n                const promise = new window['Promise']((resolve) => {\n                    var resolved = false;\n                    preview.switchCamera(() => {\n                        this._frontCamera = !this._frontCamera\n                        this.zoom(1);\n                        resolved = true;\n                        resolve();\n                    }, (err: Error) => {\n                        console.error('CameraPreview.switchCamera', err)\n                        resolved = true;\n                        resolve();\n                    });\n                    setTimeout(() => {\n                        if (!resolved) {\n                            resolve();\n                        }\n                    }, 3000)\n                });\n                this._operations.push(promise);\n                promise.then(() => {\n                    const index = this._operations.indexOf(promise);\n                    if (index !== -1) {\n                        this._operations.splice(index, 1);\n                    }\n                });\n            });\n        }\n        return this;\n    }\n\n    zoom (zoom: number) {\n        const preview = window['CameraPreview'];\n\n        if (!this._ready || !preview) {\n            return;\n        }\n\n        const {_maxZoom, _minZoom} = this,\n            {zoomBG, zoomBGWrapper, zoomThumb} = this._elements,\n            backgroundRect = zoomBG.getBoundingClientRect(),\n            backgroundHeight = backgroundRect.height;\n\n        if (zoom  < _minZoom) {\n            zoom = _minZoom;\n        } \n\n        if (zoom > _maxZoom) {\n            zoom = _maxZoom;\n        }\n\n        this._zoom = zoom;\n\n        const div = ((zoom - 1) / (this._maxZoom - 1)),\n            top = div * backgroundHeight;\n        zoomThumb.style.transform = `translateY(${-top}px)translate(-50%, 50%)`;\n        (zoomBGWrapper.style as any).webkitMaskPosition=`50% ${(div*100)}%`;\n\n        preview.setZoom(zoom, () => {}, (err: Error) => console.error('CameraPreview.setZoom', err));\n        return this;\n    }\n\n    _doLayout () {\n        const images = this._images,\n            width = 3.5,\n            ln = images.length;\n        \n        var image: MultiCameraImage,\n        i = 0;\n\n        for (;i<ln;i++) {\n            image = images[i];\n            image.x = i * width;\n            image.wrapper.style.transform = `translate(${(i*width)}em, 0em)scale(1)`;\n        }\n        return this;\n    }\n\n    _reset () {\n        const {bottomToolbar, zoomThumb, zoomBGWrapper} = this._elements;\n\n        bottomToolbar.innerHTML = '';\n        zoomThumb.style.transform = `translateY(0px)translate(-50%, 50%)`;\n        (zoomBGWrapper.style as any).webkitMaskPosition=`50% 0%`;\n\n        this._images = [];\n        this._touchState = {type: MultiCamera.touchTypes.NONE};\n        this._frontCamera = false;\n        this._zoom = 1;\n        this._minZoom = 1;\n        this._maxZoom = 5;\n    }\n\n    _onDeviceReady () {\n        this._ready = true;\n        if (this._show) {\n            const show = this._show;\n            this._show = false;\n            this.show(show);\n        }\n\n        this.zoom(this._zoom);\n        this._onOrientationChange();\n        document.removeEventListener('deviceready', this._onDeviceReady);\n    }\n\n    _onOverlayTouchStart (event: TouchEvent & {pageX: number, pageY: number}) {\n        const {zoomPlus, zoomMinus, reverseCamera, overlay} = this._elements,\n            classList = event.target['classList'] || {contains: () => false},\n            num_touches = event.touches.length;\n        var touchState = this._touchState,\n            plusTimer: () => any,\n            minusTimer: () => any;\n\n        if (classList.contains('camera-zoom-part') && num_touches === 1) {\n            touchState = this._touchState = {\n                ...touchState,\n                type: MultiCamera.touchTypes.DRAG_ZOOM_THUMB,\n                zoom: this._zoom,\n                xStart: event.pageX,\n                yStart: event.pageY,\n                target: event.target as HTMLElement,\n                startEvent: event\n            };\n        } else if (event.target === zoomPlus && num_touches === 1) {\n            this._onZoomPlusMouseDown();\n            touchState = this._touchState = {\n                ...touchState,\n                type: MultiCamera.touchTypes.HOLD_ZOOM_PLUS,\n                plusTimer: setTimeout(plusTimer = () => {\n                    this._onZoomPlusMouseDown();\n                    touchState.plusTimer = setTimeout(plusTimer, 100)\n                }, 100)\n            };\n        } else if (event.target === zoomMinus && num_touches === 1) {\n            this._onZoomMinusMouseDown();\n            touchState = this._touchState = {\n                ...touchState,\n                type: MultiCamera.touchTypes.HOLD_ZOOM_MINUS,\n                minusTimer: setTimeout(minusTimer = () => {\n                    this._onZoomMinusMouseDown();\n                    touchState.minusTimer = setTimeout(minusTimer, 100)\n                }, 100)\n            }\n        } else if (event.target === reverseCamera && num_touches === 1) {\n            this.switchCamera();\n        } else if (classList.contains('camera-take-photo-part') && num_touches === 1) {\n            this.takePhoto();\n        } else if (event.target === overlay) {\n            touchState.type = MultiCamera.touchTypes.DRAG_ZOOM_FINGERS;\n            var touches = event.changedTouches,\n                order: MultiCamera['_touchState']['order'],\n                starts: MultiCamera['_touchState']['starts'],\n                touch: Touch;\n            if (!touchState.starts) {\n                touchState.starts = {length: 0};\n                touchState.order = [];\n                touchState.zoom = this._zoom;\n            }\n            starts = touchState.starts;\n            order = touchState.order;\n            for (var i=0,ln=touches.length;i<ln;i++) {\n                touch = touches[i];\n                if (!starts[touch.identifier]) {\n                    starts[touch.identifier] = {x: touch.pageX, y: touch.pageY};\n                    starts.length++;\n                    order.push(touch.identifier);\n                }\n            }\n            if (starts.length > 1) {\n                touchState.not_click = true;\n            }\n        }\n    }\n\n    _onOverlayTouchEnd (event: TouchEvent & MouseEvent) {\n        var touchState = this._touchState,\n            {type} = touchState;\n\n        if (type === MultiCamera.touchTypes.HOLD_ZOOM_PLUS) {\n            clearTimeout(touchState.plusTimer);\n            touchState = {type: MultiCamera.touchTypes.NONE};\n        } else if (type === MultiCamera.touchTypes.HOLD_ZOOM_MINUS) {\n            clearTimeout(touchState.minusTimer);\n            touchState = {type: MultiCamera.touchTypes.NONE};\n        } else if (type === MultiCamera.touchTypes.DRAG_ZOOM_FINGERS) {\n            if (!touchState.not_click) {\n                this._onOverlayClick(event as MouseEvent);\n            }\n\n            const touches = event.changedTouches,\n                starts = touchState.starts,\n                order = touchState.order;\n\n            var touch: Touch;\n            for (var i=0,ln=touches.length;i<ln;i++) {\n                touch = touches[i];\n                if (starts[touch.identifier]) {\n                    order.splice(order.indexOf(touch.identifier), 1);\n                    delete starts[touch.identifier];\n                    starts.length--;\n                }\n            }\n            if (starts.length === 0) {\n                touchState = {type: MultiCamera.touchTypes.NONE}\n            }\n        } else {\n            touchState = {type: MultiCamera.touchTypes.NONE}\n            touchState.type = MultiCamera.touchTypes.NONE;\n        }\n        this._touchState = touchState;\n    }\n    _onOverlayTouchCancel (event: TouchEvent & MouseEvent) {\n        this._onOverlayTouchEnd(event);\n    }\n    _onOverlayTouchMove (event: TouchEvent & MouseEvent) {\n        var touchState = this._touchState,\n            {type} = touchState;\n\n        if (type === MultiCamera.touchTypes.DRAG_ZOOM_THUMB) {\n            const pageY = event.pageY - touchState.yStart,\n                background = this._elements.zoomBG,\n                backgroundRect = background.getBoundingClientRect(),\n                backgroundHeight = backgroundRect.height;\n\n            this.zoom(touchState.zoom - pageY / backgroundHeight * 3);\n\n        } else if (type == MultiCamera.touchTypes.DRAG_ZOOM_FINGERS) {\n            const {starts, order} = touchState,\n                start1 = starts[order[0]],\n                start2 = starts[order[1]],\n                touches = event.touches,\n                dimensions = this.getScreenDimensions(),\n                {width, height} = dimensions;\n            var current1: Touch,\n                current2: Touch,\n                startX1: number,\n                startX2: number,\n                startY1: number,\n                startY2: number,\n                currentX1: number,\n                currentX2: number,\n                currentY1: number,\n                currentY2: number,\n                dist1: number,\n                dist2: number,\n                touch: Touch,\n                diff: number;\n\n            for (var i=0,ln=touches.length;i<ln;i++) {\n                touch = touches[i];\n                if (touch.identifier === order[0]) {\n                    current1 = touch;\n                    if (current2) {\n                        break;\n                    }\n                } else if (touch.identifier === order[1]) {\n                    current2 = touch;\n                    if (current1) {\n                        break;\n                    }\n                }\n            }\n\n            if (start1) {\n                startX1 = start1.x;\n                startY1 = start1.y;\n            }\n            if (current1) {\n                currentX1 = current1.pageX;\n                currentY1 = current1.pageY;\n            }\n\n            if (!touchState.not_click && start1 && current1) {\n                dist1 = Math.sqrt(((startX1 - currentX1) ** 2) + ((startY1 - currentY1) ** 2));\n                if (Math.abs(dist1) > 7) {\n                    touchState.not_click = true;\n                }\n            }\n\n            if (start1 && start2 && current1 && current2) {\n                startX2 = start2.x;\n                startY2 = start2.y;\n                currentX2 = current2.pageX;\n                currentY2 = current2.pageY;\n\n                dist1 = Math.sqrt(((startX2 - startX1) ** 2) + ((startY2 - startY1) ** 2));\n                dist2 = Math.sqrt(((currentX2 - currentX1) ** 2) + ((currentY2 - currentY1) ** 2));\n\n                diff = dist2 - dist1;\n\n                this.zoom(touchState.zoom + diff / Math.min(width,height) * 6);\n            }\n        }\n    }\n\n    _onOrientationChange () {\n        const preview = window['CameraPreview'],\n            dimensions = this.getScreenDimensions(),\n            {width, height} = dimensions;\n        if (this.show && this._ready && preview) {\n            preview.setPreviewSize(dimensions, () => {\n                const doneDimensions = this.getScreenDimensions();\n                if (doneDimensions.width !== width || doneDimensions.height !== height) {\n                    this._onOrientationChange();\n                }\n            }, (err: Error) => console.error('CameraPreview.setPreviewSize', err));\n        }\n        if (this._showingPhotoOverlay) {\n            this._centerPhotoOverlay();\n        }\n    }\n\n    _onOverlayClick ({pageX: x, pageY: y}) {\n        this.focus({x, y});\n    }\n\n    _onReverseCameraClick () {\n        this.switchCamera();\n    }\n\n    _onZoomPlusMouseDown () {\n        if ((this._zoom + 0.15) <= this._maxZoom) {\n            this.zoom(this._zoom + 0.15);\n        } else {\n            this.zoom(this._maxZoom);\n        }\n    }\n\n    _onZoomMinusMouseDown () {\n        if ((this._zoom - 0.15) >= this._minZoom) {\n            this.zoom(this._zoom - 0.15);\n        } else {\n            this.zoom(this._minZoom);\n        }\n    }\n\n    _onTakePhotoTransitionEnd () {\n        const {overlay} = this._elements;\n        if (overlay && overlay.classList && overlay.classList.contains('taking-picture')) {\n            overlay.classList.remove('taking-picture');\n        }\n    }\n\n    _onPhotoOverlayBackClick () {\n        this._hidePhotoOverlay();\n    }\n\n    _onCancelClick () {\n        if (this._show) {\n            this.hide();\n            window['Promise'].all(this._operations)\n                .then(() => {\n                const event = new CustomEvent('cancel', {detail: []});\n                this.dispatchEvent(event);\n                this._reset();\n            });\n        }\n    }\n\n    _onUsePhotosClick () {\n        if (this._show) {\n            this.hide();\n            window['Promise'].all(this._operations).then(() => {\n                console.error('donenenene');\n                const event = new CustomEvent('usephotos', {detail: this._images.map(d => ({width: d.width, height:d.height, data:d.data}))});\n                this.dispatchEvent(event);\n                this._reset();\n            });\n        }\n    }\n\n\n    static _camera: MultiCamera;\n    static touchTypes = {\n        NONE: 0 as 0,\n        DRAG_ZOOM_THUMB: 1 as 1,\n        DRAG_ZOOM_FINGERS: 2 as 2,\n        HOLD_ZOOM_PLUS: 4 as 4,\n        HOLD_ZOOM_MINUS: 8 as 8\n    };\n    touchTypes = MultiCamera.touchTypes;\n\n    static show (success: (images: MultiCameraImage[]) => any, config: MultiCameraConfig) {\n        console.error('staticshow...');\n        var camera = this._camera;\n        const cancelCB = () => {\n            success && success([]);\n            camera.removeEventListener('usephotos', usePhotosCB);\n            camera.removeEventListener('cancel', cancelCB);\n        },\n        usePhotosCB = ($event: CustomEvent) => {\n            console.error('in use photos');\n            success && success($event.detail);\n            camera.removeEventListener('usephotos', usePhotosCB);\n            camera.removeEventListener('cancel', cancelCB);\n        };\n        if (arguments.length === 1) {\n            if (typeof success === 'object') {\n                config = success;\n                success = undefined;\n            }\n        }\n        if (!camera) {\n            camera = this._camera = new MultiCamera();\n            document.body.appendChild(camera._element);\n        }\n        camera.addEventListener('usephotos', usePhotosCB);\n        camera.addEventListener('cancel', cancelCB);\n        camera.show(config);\n        return this;\n    }\n\n    static hide () {\n        if (this._camera) {\n            this._camera.hide();\n        }\n        return this;\n    }\n\n    static addEventListener () {\n        this._camera.addEventListener.apply(this._camera, arguments);\n        return this;\n    }\n\n    static removeEventListener () {\n        this._camera.removeEventListener.apply(this._camera, arguments);\n        return this;\n    }\n\n    static _photoWrapperTemplate: HTMLElement = (() => {\n        const result = document.createElement('div');\n        result.innerHTML = `\n            <div class=\"camera-photo-wrapper\">\n                <div class=\"camera-photo\"></div>\n                <div class=\"camera-photo-remove\">-</div>\n            </div> `;\n        return result.children[0] as HTMLElement;\n    })();\n\n    static _template: HTMLElement = (() => {\n        const result = document.createElement('div');\n        result.innerHTML = `\n            ${html}\n            <style>\n            ${css}\n            </style>\n        `;\n        return result.children[0] as HTMLElement\n    })();\n\n}\n\n","import {MultiCamera} from './multicamera';\nexport * from './multicamera';\nif (typeof window !== 'undefined') {\n    window['MultiCamera'] = MultiCamera;\n}\n"]}