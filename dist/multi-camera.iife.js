var multicamera = (function (exports) {
    'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */

    var __assign = function() {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };

    var css = "\n    .camera-photo-overlay-text.back {\n        transition: opacity 300ms;\n        position: absolute;\n        left: 0.3em;\n        bottom: 4.0em;\n        text-shadow:0px 0px 10px rgba(0,0,0,0.5);\n        color: white;\n        z-index: 1;\n        opacity: 0;\n        text-decoration:none;\n        pointer-events:all;\n        padding:0.2em 0.5em;\n    }\n    .camera-photo-overlay-background {\n        position:absolute;\n        top:0;\n        left:0;\n        right:0;\n        bottom:0;\n        background-color:black;\n        opacity: 0;\n        transition: opacity 300ms;\n    }\n    .camera-photo-overlay {\n        position:absolute;\n        top:0;\n        left:0;\n        width: 100%;\n        height: 100%;\n        display:none;\n    }\n    .camera-photo-overlay .camera-photo-wrapper {\n        z-index: 0;\n    }\n    .camera-indicator .camera-indicator-text {\n        transform:translate(-50%,-50%);\n        top:50%;\n        left:50%;\n        position:absolute;\n        color:white;\n    }\n    .camera-indicator.left .camera-indicator-text {\n        display:none;\n    }\n    .camera-indicator.left .camera-indicator-line,\n    .camera-indicator.right .camera-indicator-line\n    {\n        position: absolute;\n        top:0;\n        bottom:0;\n        left:0;\n        right:0;\n        background:rgba(50,150,255,0.7);\n        -webkit-mask:linear-gradient(90deg, black 0%, transparent 50%,   black 100%);\n        -webkit-mask-size:100% 100%;\n        -webkit-mask-position:0% 0%;\n        -webkit-mask-repeat: no-repeat;\n    }\n    .camera-indicator {\n        position:absolute;\n        overflow:visible;\n    }\n    .camera-indicator.left {\n        right: 7em;\n        left: 5em;\n        bottom: 4.0em;\n        height: 1px;\n        display:none;\n    }\n    .camera-indicator.right {\n        right: 0.3em;\n        left: 0.3em;\n        top: 1.5em;\n        height: 1px;\n    }\n    .camera-indicator.bottom .camera-indicator-text,\n    .camera-indicator.top .camera-indicator-text\n    {\n        transform:translate(-50%,-50%)rotate(-90deg);\n        top:50%;\n        left:0%;\n        position:absolute;\n        color:white;\n    }\n    .camera-indicator.top .camera-indicator-text {\n        margin-top:-1em;\n    }\n    .camera-indicator.top .camera-indicator-line,\n    .camera-indicator.bottom .camera-indicator-line {\n        position: absolute;\n        top:0;\n        bottom:5.5em;\n        left:0;\n        right:0;\n        background:rgba(50,150,255,0.7);\n        -webkit-mask:linear-gradient(transparent 3em, black 0%, transparent 57%,   black 100%);\n        -webkit-mask-size:100% 100%;\n        -webkit-mask-position:0% 0%;\n        -webkit-mask-repeat: no-repeat;\n    }\n    .camera-indicator.bottom {\n        display:none;\n        right: 0.3em;\n        top: 0em;\n        bottom: 0em;\n        width: 1px;\n    }\n    .camera-indicator.top {\n        display:none;\n        left: 0.3em;\n        top: 0em;\n        bottom: 0em;\n        width: 1px;\n    }\n\n    .camera-overlay {\n        visibility:visible;\n        position:fixed;\n        top:0;\n        left:0;\n        right:0;\n        bottom:0;\n        -webkit-user-select:none;\n    }\n    .camera-took-picture {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background: #000;\n        transition: opacity 300ms;\n        opacity: 1;\n    }\n    .camera-take-photo-border {\n        position:absolute;\n        top: 50%;\n        right: -0.25em;\n        transform: scale(1)translate(-50%, -50%);\n        border-radius:50%;\n        height:3.75em;\n        width:3.75em;\n        background:transparent;\n        box-shadow:0px 0px 0px 0.35em white, 0px 0px 0px 0.4em rgba(0,0,0,0.3);\n        transition: transform 500ms;\n        transform-origin: 0 0;\n        transition: transform 100ms linear;\n    }\n    .camera-take-photo {\n        position:absolute;\n        top:50%;\n        right: 0;\n        transform: scale(1)translate(-50%, -50%);\n        transform-origin: 0 0;\n        border-radius:50%;\n        height:3.5em;\n        width:3.5em;\n        background:white;\n        transition: transform 175ms linear;\n    }\n    .taking-picture .camera-take-photo {\n        transform: scale(0.9)translate(-50%, -50%);\n    }\n    .camera-reverse {\n        top: 50%;\n        right: 0.95em;\n        transform: scale(1)translate(0,-5em)translate(-50%, -50%);\n        height: 2.5em;\n        width: 2.5em;\n        background-image: url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3C!-- Svg Vector Icons : http://www.onlinewebfonts.com/icon --%3E%3C!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3E%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 1000 1000' enable-background='new 0 0 1000 1000' xml:space='preserve'%3E%3Cmetadata%3E Svg Vector Icons : http://www.onlinewebfonts.com/icon %3C/metadata%3E%3Cg fill='rgba(255,255,255,.9)'%3E%3Cpath stroke='rgba(0,0,0,0.5)' stroke-width='40' fill='transparent' d='M912.2,255H754.6c-81.9-91.9-107.7-122.5-139.2-122.5H389.6c-31.4,0-56.6,30.6-139.1,122.5h-33.8v-40.8h-86.8V255H95.5c-45,0-85.5,33.7-85.5,78.3v449.2c0,44.6,40.5,85,85.5,85h816.7c45,0,77.8-40.4,77.8-85V333.3C990,288.7,957.2,255,912.2,255z'/%3E%3Cpath stroke='rgba(255,255,255,.9)' stroke-width='25' fill='rgba(0,0,0,0.4)' d='M912.2,255H754.6c-81.9-91.9-107.7-122.5-139.2-122.5H389.6c-31.4,0-56.6,30.6-139.1,122.5h-33.8v-40.8h-86.8V255H95.5c-45,0-85.5,33.7-85.5,78.3v449.2c0,44.6,40.5,85,85.5,85h816.7c45,0,77.8-40.4,77.8-85V333.3C990,288.7,957.2,255,912.2,255z'/%3E%3Cpath d='M616.9,659.8c-33.5,28.1-73.9,44.3-116.9,44.3c-92.8,0-169.2-73.9-180.9-158.1h78.1L298,418.3l-95.8,127.6h75.2C289.4,653.1,383.9,745,500,745c53.3,0,105.1-19.3,145.7-54.1l6-5.5l-29.6-29.8L616.9,659.8z'/%3E%3Cpath d='M652.5,354.2C611.1,316.5,557,296,500,296c-53.3,0-105.1,19.3-145.7,54.1l-6,5.2l29.6,29.6l5.2-4.4c33-27.7,74.5-43.4,116.9-43.4c92.8,0,169.1,73.5,180.9,162.8h-78.2l99.1,130.7l96-130.7h-75.3C716.8,449,692.1,390.4,652.5,354.2z'/%3E%3C/g%3E%3C/svg%3E%0A\");\n        background-repeat:no-repeat;\n        background-size:2.5em 2.5em;\n        position: absolute;\n    }\n    .camera-bottom-toolbar {\n        position:absolute;\n        bottom:0;\n        left:0;\n        right:0;\n        height: 4.1em;\n        background:rgba(0,0,0,0.1);\n        overflow-x:scroll;\n        -webkit-overflow-scrolling:touch;\n    }\n    .camera-image {\n        position:relative;\n        display:inline-block;\n        margin-right: 0.5em;\n        box-shadow:0px 0px 0px 0.5em black;\n        height:5em;\n        width:5em;\n    }\n    .camera-text-option {\n        color: white;\n        text-shadow:0px 0px 10px rgba(0,0,0,0.5);\n        text-decoration: none;\n        padding:0 0.5em;\n    }\n    .camera-use-photos {\n        position:absolute;\n        right: 0.3em;\n        bottom: 4.0em;\n        padding:0.2em 0.5em;\n        transition: opacity 300ms;\n        opacity: 0;\n    }\n    .camera-use-photos.has-photos {\n        opacity: 1;\n    }\n    .camera-cancel {\n        position: absolute;\n        left: 0.3em;\n        bottom: 4.0em;\n        padding:0.2em 0.5em;\n    }\n    .camera-zoom {\n        position: absolute;\n        top: 50%;\n        left: 2em;\n        height: 15em;\n        transform: translate(0, -50%);\n    }\n    .camera-zoom-background-wrapper {\n        position: absolute;\n        width: 0.5em;\n        transform: translate(-50%, 0);\n        top: 0;\n        bottom: 0;\n        -webkit-mask: radial-gradient(transparent .75em, black .75em, black 25em);\n        -webkit-mask-size:30em 30em;\n        -webkit-mask-position:50% 0%;\n        -webkit-mask-repeat: no-repeat;\n    }\n    .camera-zoom-background {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        box-shadow: inset 0px 0px 0px 1px rgba(255,255,255,0.2);\n        background:rgba(0,0,0,0.3);\n        overflow:visible;\n        left: 0;\n        right: 0;\n        border-radius: 1em;\n    }\n    .camera-zoom-plus {\n        color: white;\n        font-size: 1.5em;\n        text-shadow:0px 0px 10px rgba(0,0,0,0.5);\n        bottom: 100%;\n        position:absolute;\n        left: 0;\n        padding: 0.5em;\n        transform: translate(-50%, 0);\n    }\n    .camera-zoom-minus {\n        color: white;\n        font-size: 2em;\n        text-shadow:0px 0px 10px rgba(0,0,0,0.5);\n        padding: 0.5em;\n        top: 100%;\n        left: 0;\n        transform: translate(-50%, 0);\n        margin-top: -0.25em;\n        position:absolute;\n    }\n\n    .camera-zoom-thumb {\n        box-shadow: 0px 0px 0px 0.15em rgba(100,255,100,0.7);\n        border-radius: 50%;\n        height: 1.5em;\n        width: 1.5em;\n        transform:translate(-50%, 50%);\n        bottom: 0%;\n        position:absolute;\n    }\n    .camera-zoom-stretch {\n        position:absolute;\n        left: -1em;\n        top: -1em;\n        right: -1em;\n        bottom: -1em;\n    }\n    .camera-photo-wrapper {\n        transform: translate(0em,0em)scale(1);\n        transition: transform 300ms, width 300ms, height 300ms, opacity 300ms, left 300ms, bottom 300ms;\n        overflow: visible;\n        position: absolute;\n        left: 0;\n        box-shadow: -1px 0px 0px rgba(255,255,255,.5);\n        bottom: 0;\n        width: 3.5em;\n        height: 3.5em;\n        opacity: 0.85;\n        bottom: 0;\n        transform-origin: 0% 50%;\n        //top: 0;\n        //transform-origin: 0% 0%;\n    }\n    .camera-photo-wrapper.active::after {\n        content: \" \";\n        position:absolute;\n        top:0;\n        bottom:0;\n        left:0;\n        right:0;\n        background:rgba(100,255,100,0.35);\n    }\n    .camera-photo {\n        background-color: black;\n        transition: transform 300ms, opacity 300ms, width 300ms, height 300ms;\n        transform: scale(0)translate(0px,0px);\n        transform-origin: 0% 50%;\n        opacity: 1;\n        background-size: cover;\n        background-position: center;\n        width: 100%;\n        height: 100%;\n        background-repeat:no-repeat;\n        position:absolute;\n        z-index:0;\n        bottom: 0;\n        //top: 0;\n    }\n    .camera-photo-remove {\n        background-color:rgba(255,0,0,0.5);\n        box-shadow:  0px 5px 10px rgba(0,0,0,0.5);\n        text-shadow:  0px 0px 1px black;\n        background-color:rgba(0,0,0,0.5);\n        background-color:rgba(200,200,200,.8);\n        color: white;\n        text-align:center;\n        transition: transform 300ms;\n        transform: translateX(-100%);\n        position:absolute;\n        z-index:1;\n        font-weight:bold;\n        width:100%;\n        height: auto;\n        top: 0.05em;\n        right: 0.05em;\n        border-radius: 50%;\n        height: 1.5em;\n        width: 1.5em;\n    }\n";

    var html = "\n<div class=\"camera-overlay\">\n    <style>\n    " + css + "\n    </style>\n    <div class=\"camera-zoom camera-zoom-part\">\n        <div class=\"camera-zoom-stretch camera-zoom-part\"></div>\n        <div class=\"camera-zoom-plus\">+</div>\n        <div class=\"camera-zoom-background-wrapper camera-zoom-part\">\n            <div class=\"camera-zoom-background camera-zoom-part\"></div>\n        </div>\n        <div class=\"camera-zoom-minus\">-</div>\n        <div class=\"camera-zoom-thumb camera-zoom-part\"></div>\n    </div>\n    <div class=\"camera-reverse\"></div>\n    <div class=\"camera-take-photo-border camera-take-photo-part\"></div>\n    <div class=\"camera-take-photo camera-take-photo-part\"></div>\n        <a class=\"camera-cancel camera-text-option\" href=\"javascript:void(0);\" >Cancel</a>\n        <a class=\"camera-use-photos camera-text-option\" href=\"javascript:void(0);\">Use Photos</a>\n    <div class=\"camera-indicator top\">\n        <span class=\"camera-indicator-line\"></span>\n        <span class=\"camera-indicator-text\"></span>\n    </div>\n    <div class=\"camera-indicator bottom\">\n        <span class=\"camera-indicator-line\"></span>\n        <span class=\"camera-indicator-text\"></span>\n    </div>\n    <div class=\"camera-indicator right\">\n        <span class=\"camera-indicator-line\"></span>\n        <span class=\"camera-indicator-text\">Photos</span>\n    </div>\n    <div class=\"camera-indicator left\">\n        <span class=\"camera-indicator-line\"></span>\n        <span class=\"camera-indicator-text\"></span>\n    </div>\n    <div class=\"camera-photo-overlay\">\n        <div class=\"camera-photo-overlay-background\"></div>\n        <a href=\"javascript:void(0)\" class=\"camera-photo-overlay-text back\">Back</a>\n    </div>\n    <div class=\"camera-bottom-toolbar\" >\n    </div>\n</div>\n";

    var MultiCamera = /** @class */ (function () {
        function MultiCamera() {
            var _this = this;
            this._images = [];
            this._maxZoom = 5;
            this._minZoom = 1;
            this._zoom = 1;
            this._events = {
                usephotos: [],
                cancel: [],
                tookphoto: []
            };
            this.touchTypes = MultiCamera.touchTypes;
            MultiCamera._camera = this;
            var element = this._element = MultiCamera._template.cloneNode(true);
            var _a = this._elements = {
                overlay: element,
                zoomPlus: element.querySelector('.camera-zoom-plus'),
                zoomMinus: element.querySelector('.camera-zoom-minus'),
                zoomThumb: element.querySelector('.camera-zoom-thumb'),
                zoomBG: element.querySelector('.camera-zoom-background'),
                zoomBGWrapper: element.querySelector('.camera-zoom-background-wrapper'),
                reverseCamera: element.querySelector('.camera-reverse'),
                cancel: element.querySelector('.camera-cancel'),
                takePhoto: element.querySelector('.camera-take-photo'),
                usePhotos: element.querySelector('.camera-use-photos'),
                bottomToolbar: element.querySelector('.camera-bottom-toolbar'),
                topIndicatorText: element.querySelector('.camera-indicator.top .camera-indicator-text'),
                bottomIndicatorText: element.querySelector('.camera-indicator.bottom .camera-indicator-text'),
                leftIndicatorText: element.querySelector('.camera-indicator.left .camera-indicator-text'),
                rightIndicatorText: element.querySelector('.camera-indicator.right .camera-indicator-text'),
                photoOverlay: element.querySelector('.camera-photo-overlay'),
                photoOverlayBackground: element.querySelector('.camera-photo-overlay-background'),
                back: element.querySelector('.camera-photo-overlay-text.back')
            }, overlay = _a.overlay, takePhoto = _a.takePhoto, back = _a.back, cancel = _a.cancel, usePhotos = _a.usePhotos;
            overlay.style.display = 'none';
            this._reset();
            this._operations = [];
            this._onDeviceReady = this._onDeviceReady.bind(this);
            this._onOrientationChange = this._onOrientationChange.bind(this);
            cancel.addEventListener('click', function () { return _this._onCancelClick(); }, true);
            usePhotos.addEventListener('click', function () { return _this._onUsePhotosClick(); }, true);
            overlay.addEventListener('touchend', function (event) { return _this._onOverlayTouchEnd(event); }, true);
            back.addEventListener('click', function () { return _this._onPhotoOverlayBackClick(); }, true);
            overlay.addEventListener('touchmove', function (event) { return _this._onOverlayTouchMove(event); }, true);
            overlay.addEventListener('touchstart', function (event) { return _this._onOverlayTouchStart(event); }, true);
            overlay.addEventListener('touchcancel', function (event) { return _this._onOverlayTouchCancel(event); }, true);
            takePhoto.addEventListener('transitionend', function () { return _this._onTakePhotoTransitionEnd(); });
            //TODO consider add in show remove eventlistener in hide
            window.addEventListener('resize', this._onOrientationChange);
            if (typeof window['device'] === 'undefined' || typeof window['device'].cordova === 'undefined') {
                document.addEventListener('deviceready', this._onDeviceReady);
            }
            else {
                this._onDeviceReady();
            }
        }
        MultiCamera.prototype.addEventListener = function (name, fn) {
            this._events[name].push(fn);
        };
        MultiCamera.prototype.removeEventListener = function (name, fn) {
            var events = this._events[name], index = events.indexOf(fn);
            if (index !== -1) {
                events.splice(index, 1);
            }
        };
        MultiCamera.prototype.dispatchEvent = function (event) {
            var events = this._events[event.type];
            for (var i = 0, ln = events.length; i < ln; i++) {
                events[i](event);
            }
        };
        MultiCamera.prototype.getScreenDimensions = function () {
            var _a = window.screen, height = _a.height, width = _a.width;
            if (typeof orientation === 'number') {
                if (Math.abs(parseInt("" + window.orientation) / 90) === 1) {
                    height = window.screen.width;
                    width = window.screen.height;
                }
            }
            return { width: width, height: height };
        };
        MultiCamera.prototype.getSupportedSizes = function (onSuccess, onError) {
            var preview = window['CameraPreview'];
            preview.getSupportedPictureSizes(onSuccess, onError);
            return this;
        };
        MultiCamera.prototype.show = function (config) {
            var preview = window['CameraPreview'], overlay = this._elements.overlay, _a = this.getScreenDimensions(), width = _a.width, height = _a.height;
            //TODO check this
            overlay.style.display = 'none';
            if (this._show === true) {
                return;
            }
            if (!this._ready || !preview) {
                this._show = config || {};
                return;
            }
            this._show = true;
            this._config = (typeof config === 'object' && config) || {};
            preview.stopCamera(function () {
                console.error('CameraPreview.stopCamera', 'SUCCESS');
                startCamera();
            }, function (err) {
                console.error('CameraPreview.stopCamera', err);
                startCamera();
            });
            function startCamera() {
                preview.startCamera({
                    x: 0,
                    y: 0,
                    width: width,
                    height: height,
                    camera: preview.CAMERA_DIRECTION.BACK,
                    toBack: true,
                    tapPhoto: false,
                    tapFocus: false,
                    previewDrag: false
                }, function () {
                    console.error('CameraPreview.startCamera', 'SUCCESS');
                    overlay.style.display = null;
                    document.body.parentNode.style.visibility = "hidden";
                }, function (err) { return console.error('CameraPreview.startCamera', err); });
            }
            return this;
        };
        MultiCamera.prototype.hide = function () {
            var _this = this;
            var preview = window['CameraPreview'], overlay = this._elements.overlay;
            if (this._ready && this._show) {
                this._show = false;
                window['Promise'].all(this._operations).then(function () {
                    preview.stopCamera(function () {
                        overlay.style.display = 'none';
                        _this._elements.photoOverlay.style.display = 'none';
                        document.body.parentNode.style.visibility = 'visible';
                        console.error('CameraPreview.stopCamera', 'SUCCESS');
                    }, function (err) { return console.error('CameraPreview.stopCamera', err); });
                });
            }
            return this;
        };
        MultiCamera.prototype.takePhoto = function () {
            var _this = this;
            var config = this._config || {}, dimensions = this.getScreenDimensions(), width = dimensions.width > dimensions.height ? config.maxHeight : config.maxWidth, height = dimensions.height > dimensions.width ? config.maxHeight : config.maxWidth;
            if (!this._ready) {
                return;
            }
            var tookPicture = document.createElement('div'), overlay = this._elements.overlay;
            tookPicture.className = 'camera-took-picture';
            if (!this._takingPicture) {
                this._takingPicture = true;
                overlay.classList.add('taking-picture');
            }
            tookPicture.addEventListener('transitionend', function () {
                _this._takingPicture = false;
                if (tookPicture.parentNode) {
                    tookPicture.parentNode.removeChild(tookPicture);
                }
            });
            setTimeout(function () { return tookPicture.style.opacity = '0'; });
            overlay.appendChild(tookPicture);
            var promise = new window['Promise'](function (resolve) {
                var resolved = false;
                var preview = window['CameraPreview'];
                preview.takePicture({ width: width || 0, height: height || 0, quality: 90 }, function (base64) {
                    var data = "data:image/jpg;base64," + base64[0], img = new Image();
                    img.onload = function () {
                        var image = {
                            data: "data:image/jpg;base64," + base64[0],
                            width: img.width,
                            height: img.height
                        }, photoWrapper = MultiCamera._photoWrapperTemplate.cloneNode(true), photoElement = photoWrapper.querySelector('.camera-photo'), removeElement = photoWrapper.querySelector('.camera-photo-remove'), bottomToolbar = _this._elements.bottomToolbar, tookPhotoEvent = new CustomEvent('tookphoto', { detail: { data: image.data, width: image.width, height: image.height } });
                        var max = Math.max(dimensions.width, dimensions.height);
                        photoElement.style.backgroundImage = "url(\"" + image.data + "\")";
                        bottomToolbar.insertBefore(photoWrapper, bottomToolbar.childNodes[0]);
                        image.preview = image.width > image.height ? {
                            width: max,
                            height: Math.min(dimensions.height, dimensions.width)
                        } : {
                            width: Math.min(dimensions.width, dimensions.height),
                            height: max
                        };
                        image.wrapper = {
                            el: photoWrapper
                        };
                        image.element = {
                            el: photoElement
                        };
                        photoElement.style.backgroundImage = "url(\"" + image.data + "\")";
                        bottomToolbar.insertBefore(photoWrapper, bottomToolbar.childNodes[0]);
                        setTimeout(function () {
                            photoElement.style.transform = 'scale(1)translate(0px, 0px)';
                            removeElement.style.transform = 'translateX(0px)';
                        });
                        removeElement.addEventListener('click', function () {
                            _this._removeImage(image);
                        }, true);
                        photoWrapper.addEventListener('click', function ($event) {
                            _this._chooseActivePhoto(image, $event);
                        }, true);
                        _this.dispatchEvent(tookPhotoEvent);
                        _this._images.unshift(image);
                        _this._doLayout();
                        resolved = true;
                        resolve();
                    };
                    img.onerror = function () {
                        resolve();
                    };
                    img.src = data;
                }, function () {
                    resolved = true;
                    resolve();
                });
                setTimeout(function () {
                    if (!resolved) {
                        resolve();
                    }
                }, 3000);
            });
            this._operations.push(promise);
            promise.then(function () {
                var index = _this._operations.indexOf(promise);
                if (index !== -1) {
                    _this._operations.splice(index, 1);
                }
            });
        };
        MultiCamera.prototype._removeImage = function (image) {
            var _this = this;
            if (!image) {
                return;
            }
            var index = this._images.indexOf(image), wrapper = image.wrapper;
            if (index !== -1) {
                this._images.splice(index, 1);
            }
            if (this._images.length === 0 && this._showingPhotoOverlay) {
                this._hidePhotoOverlay();
            }
            image.removed = true;
            wrapper.el.style.transform = wrapper.el.style.transform.split('scale(1)')[0] + "scale(0)";
            wrapper.el.style.opacity = '0';
            wrapper.el.addEventListener('transitionend', function () {
                if (wrapper.el.parentNode) {
                    _this._elements.bottomToolbar.removeChild(wrapper.el);
                }
            });
            this._doLayout();
            if (image === this._activePhoto) {
                var next = this._images[index] || this._images[this._images.length - 1];
                if (next) {
                    this._chooseActivePhoto(next, null);
                }
            }
        };
        MultiCamera.prototype._chooseActivePhoto = function (image, event) {
            if (event && event.target['classList'] && event.target['classList'].contains('camera-photo-remove')) {
                return;
            }
            if (this._activePhoto) {
                this._activePhoto.wrapper.el.classList.remove('active');
            }
            this._activePhoto = image;
            this._showPhotoOverlay();
            image.wrapper.el.classList.add('active');
        };
        MultiCamera.prototype._getEmToPx = function () {
            if (!this._emToPx) {
                var emTest = document.createElement('div');
                emTest.style.width = emTest.style.height = '1em';
                emTest.style.position = 'absolute';
                emTest.style.opacity = '0';
                this._element.appendChild(emTest);
                this._emToPx = emTest.clientWidth;
                this._element.removeChild(emTest);
            }
            return this._emToPx;
        };
        MultiCamera.prototype._hidePhotoOverlay = function () {
            var _this = this;
            var image = this._activePhoto, emToPx = this._getEmToPx(), original = (image || { wrapper: undefined }).wrapper, wrapper = this._showingPhotoOverlay !== false ? this._showingPhotoOverlay.wrapper : this._showingPhotoOverlay, rect = original && original.el.getBoundingClientRect(), elements = this._elements;
            if (!wrapper) {
                return;
            }
            original.el.classList.remove('active');
            this._showingPhotoOverlay = false;
            if (wrapper.el.parentNode === elements.photoOverlay) {
                var photo = wrapper.el.querySelector('.camera-photo');
                elements.back.style.opacity = '0';
                elements.photoOverlayBackground.style.opacity = '0';
                wrapper.el.style.height = null;
                wrapper.el.style.width = null;
                wrapper.el.style.left = rect.x / emToPx + "em";
                wrapper.el.style.bottom = '0em';
                photo.style.opacity = '0';
                if (image.removed) {
                    wrapper.el.style.transform = 'translate(0em,0em)scale(0)';
                }
                wrapper.el.addEventListener('transitionend', function () {
                    if (wrapper.el.parentNode) {
                        if (!_this._showingPhotoOverlay) {
                            elements.photoOverlay.style.display = 'none';
                        }
                        elements.photoOverlay.removeChild(wrapper.el);
                    }
                });
            }
        };
        MultiCamera.prototype._showPhotoOverlay = function () {
            var _this = this;
            var image = this._activePhoto, emToPx = this._getEmToPx(), width = image.width, height = image.height, original = image.wrapper, data = image.data, preview = image.preview, rect = original.el.getBoundingClientRect(), elements = this._elements;
            if (this._showingPhotoOverlay) {
                this._hidePhotoOverlay();
            }
            var wrapper = (this._showingPhotoOverlay = { data: data, width: width, height: height, preview: __assign({}, preview), wrapper: __assign(__assign({}, image.wrapper), { el: original.el.cloneNode(true) }) }).wrapper, photo = wrapper.el.querySelector('.camera-photo'), remove = wrapper.el.querySelector('.camera-photo-remove');
            wrapper.el.style.boxShadow = 'none';
            elements.photoOverlay.style.display = 'block';
            wrapper.el.style.transform = 'translate(0em,0em)scale(1)';
            wrapper.el.style.left = rect.x / emToPx + "em";
            elements.photoOverlay.appendChild(wrapper.el);
            wrapper.el.removeChild(remove);
            photo.style.opacity = '0';
            setTimeout(function () {
                elements.back.style.opacity = '1';
                elements.photoOverlayBackground.style.opacity = '1';
                photo.style.opacity = '1';
                _this._centerPhotoOverlay();
            });
        };
        MultiCamera.prototype._centerPhotoOverlay = function () {
            var dimensions = this.getScreenDimensions(), emToPx = this._getEmToPx(), cloneImage = this._showingPhotoOverlay;
            var _a = cloneImage || { width: undefined, height: undefined, wrapper: undefined, element: undefined, preview: undefined }, wrapper = _a.wrapper, preview = _a.preview;
            var scale;
            if (preview.width > dimensions.width) {
                scale = dimensions.width / preview.width;
            }
            if (preview.height > dimensions.height) {
                if (!scale || ((dimensions.height / preview.height) > scale)) {
                    scale = dimensions.height / preview.height;
                }
            }
            if (scale === undefined) {
                scale = 1;
            }
            var cx = (dimensions.width - preview.width * scale) / 2 / emToPx, cy = (dimensions.height - preview.height * scale) / 2 / emToPx;
            wrapper.el.style.height = preview.height * scale + "px";
            wrapper.el.style.width = preview.width * scale + "px";
            wrapper.el.style.left = cx + "em";
            wrapper.el.style.bottom = cy + "em";
        };
        MultiCamera.prototype.focus = function (_a) {
            var x = _a.x, y = _a.y;
            var preview = window['CameraPreview'];
            if (this._ready) {
                console.error("MultiCamera.focus(" + [x, y] + ")");
                preview.tapToFocus(x, y, function () { }, function (err) { return console.error('CameraPreview.tapToFocus', err); });
            }
            return this;
        };
        MultiCamera.prototype.switchCamera = function () {
            var _this = this;
            var preview = window['CameraPreview'];
            if (this._ready && preview) {
                window['Promise'].all(this._operations).then(function () {
                    var promise = new window['Promise'](function (resolve) {
                        var resolved = false;
                        preview.switchCamera(function () {
                            _this._frontCamera = !_this._frontCamera;
                            _this.zoom(1);
                            resolved = true;
                            resolve();
                        }, function (err) {
                            console.error('CameraPreview.switchCamera', err);
                            resolved = true;
                            resolve();
                        });
                        setTimeout(function () {
                            if (!resolved) {
                                resolve();
                            }
                        }, 3000);
                    });
                    _this._operations.push(promise);
                    promise.then(function () {
                        var index = _this._operations.indexOf(promise);
                        if (index !== -1) {
                            _this._operations.splice(index, 1);
                        }
                    });
                });
            }
            return this;
        };
        MultiCamera.prototype.zoom = function (zoom) {
            var preview = window['CameraPreview'];
            if (!this._ready || !preview) {
                return;
            }
            var _a = this, _maxZoom = _a._maxZoom, _minZoom = _a._minZoom, _b = this._elements, zoomBG = _b.zoomBG, zoomBGWrapper = _b.zoomBGWrapper, zoomThumb = _b.zoomThumb, backgroundRect = zoomBG.getBoundingClientRect(), backgroundHeight = backgroundRect.height;
            if (zoom < _minZoom) {
                zoom = _minZoom;
            }
            if (zoom > _maxZoom) {
                zoom = _maxZoom;
            }
            this._zoom = zoom;
            var div = ((zoom - 1) / (this._maxZoom - 1)), top = div * backgroundHeight;
            zoomThumb.style.transform = "translateY(" + -top + "px)translate(-50%, 50%)";
            zoomBGWrapper.style.webkitMaskPosition = "50% " + (div * 100) + "%";
            preview.setZoom(zoom, function () { }, function (err) { return console.error('CameraPreview.setZoom', err); });
            return this;
        };
        MultiCamera.prototype._doLayout = function () {
            var images = this._images, width = 3.5, ln = images.length, usePhotos = this._elements.usePhotos;
            var image, i = 0;
            for (; i < ln; i++) {
                image = images[i];
                image.x = i * width;
                image.wrapper.el.style.transform = "translate(" + (i * width) + "em, 0em)scale(1)";
            }
            if (ln) {
                if (!usePhotos.classList.contains('has-photos')) {
                    usePhotos.classList.add('has-photos');
                }
            }
            else if (usePhotos.classList.contains('has-photos')) {
                usePhotos.classList.remove('has-photos');
            }
            return this;
        };
        MultiCamera.prototype._reset = function () {
            var _a = this._elements, bottomToolbar = _a.bottomToolbar, zoomThumb = _a.zoomThumb, zoomBGWrapper = _a.zoomBGWrapper;
            bottomToolbar.innerHTML = '';
            zoomThumb.style.transform = "translateY(0px)translate(-50%, 50%)";
            zoomBGWrapper.style.webkitMaskPosition = "50% 0%";
            this._images = [];
            this._touchState = { type: MultiCamera.touchTypes.NONE };
            this._frontCamera = false;
            this._zoom = 1;
            this._minZoom = 1;
            this._maxZoom = 5;
        };
        MultiCamera.prototype._onDeviceReady = function () {
            this._ready = true;
            if (this._show) {
                var show = this._show;
                this._show = false;
                this.show(show);
            }
            this.zoom(this._zoom);
            this._onOrientationChange();
            document.removeEventListener('deviceready', this._onDeviceReady);
        };
        MultiCamera.prototype._onOverlayTouchStart = function (event) {
            var _this = this;
            var _a = this._elements, zoomPlus = _a.zoomPlus, zoomMinus = _a.zoomMinus, reverseCamera = _a.reverseCamera, overlay = _a.overlay, classList = event.target['classList'] || { contains: function () { return false; } }, num_touches = event.touches.length;
            var touchState = this._touchState, plusTimer, minusTimer;
            if (classList.contains('camera-zoom-part') && num_touches === 1) {
                touchState = this._touchState = __assign(__assign({}, touchState), { type: MultiCamera.touchTypes.DRAG_ZOOM_THUMB, zoom: this._zoom, xStart: event.pageX, yStart: event.pageY, target: event.target, startEvent: event });
            }
            else if (event.target === zoomPlus && num_touches === 1) {
                this._onZoomPlusMouseDown();
                touchState = this._touchState = __assign(__assign({}, touchState), { type: MultiCamera.touchTypes.HOLD_ZOOM_PLUS, plusTimer: setTimeout(plusTimer = function () {
                        _this._onZoomPlusMouseDown();
                        touchState.plusTimer = setTimeout(plusTimer, 100);
                    }, 100) });
            }
            else if (event.target === zoomMinus && num_touches === 1) {
                this._onZoomMinusMouseDown();
                touchState = this._touchState = __assign(__assign({}, touchState), { type: MultiCamera.touchTypes.HOLD_ZOOM_MINUS, minusTimer: setTimeout(minusTimer = function () {
                        _this._onZoomMinusMouseDown();
                        touchState.minusTimer = setTimeout(minusTimer, 100);
                    }, 100) });
            }
            else if (event.target === reverseCamera && num_touches === 1) {
                this.switchCamera();
            }
            else if (classList.contains('camera-take-photo-part') && num_touches === 1) {
                this.takePhoto();
            }
            else if (event.target === overlay) {
                touchState.type = MultiCamera.touchTypes.DRAG_ZOOM_FINGERS;
                var touches = event.changedTouches, order, starts, touch;
                if (!touchState.starts) {
                    touchState.starts = { length: 0 };
                    touchState.order = [];
                    touchState.zoom = this._zoom;
                }
                starts = touchState.starts;
                order = touchState.order;
                for (var i = 0, ln = touches.length; i < ln; i++) {
                    touch = touches[i];
                    if (!starts[touch.identifier]) {
                        starts[touch.identifier] = { x: touch.pageX, y: touch.pageY };
                        starts.length++;
                        order.push(touch.identifier);
                    }
                }
                if (starts.length > 1) {
                    touchState.not_click = true;
                }
            }
        };
        MultiCamera.prototype._onOverlayTouchEnd = function (event) {
            var touchState = this._touchState, type = touchState.type;
            if (type === MultiCamera.touchTypes.HOLD_ZOOM_PLUS) {
                clearTimeout(touchState.plusTimer);
                touchState = { type: MultiCamera.touchTypes.NONE };
            }
            else if (type === MultiCamera.touchTypes.HOLD_ZOOM_MINUS) {
                clearTimeout(touchState.minusTimer);
                touchState = { type: MultiCamera.touchTypes.NONE };
            }
            else if (type === MultiCamera.touchTypes.DRAG_ZOOM_FINGERS) {
                if (!touchState.not_click) {
                    this._onOverlayClick(event);
                }
                var touches = event.changedTouches, starts = touchState.starts, order = touchState.order;
                var touch;
                for (var i = 0, ln = touches.length; i < ln; i++) {
                    touch = touches[i];
                    if (starts[touch.identifier]) {
                        order.splice(order.indexOf(touch.identifier), 1);
                        delete starts[touch.identifier];
                        starts.length--;
                    }
                }
                if (starts.length === 0) {
                    touchState = { type: MultiCamera.touchTypes.NONE };
                }
            }
            else {
                touchState = { type: MultiCamera.touchTypes.NONE };
                touchState.type = MultiCamera.touchTypes.NONE;
            }
            this._touchState = touchState;
        };
        MultiCamera.prototype._onOverlayTouchCancel = function (event) {
            this._onOverlayTouchEnd(event);
        };
        MultiCamera.prototype._onOverlayTouchMove = function (event) {
            var touchState = this._touchState, type = touchState.type;
            if (type === MultiCamera.touchTypes.DRAG_ZOOM_THUMB) {
                var pageY = event.pageY - touchState.yStart, background = this._elements.zoomBG, backgroundRect = background.getBoundingClientRect(), backgroundHeight = backgroundRect.height;
                this.zoom(touchState.zoom - pageY / backgroundHeight * 3);
            }
            else if (type == MultiCamera.touchTypes.DRAG_ZOOM_FINGERS) {
                var starts = touchState.starts, order = touchState.order, start1 = starts[order[0]], start2 = starts[order[1]], touches = event.touches, dimensions = this.getScreenDimensions(), width = dimensions.width, height = dimensions.height;
                var current1, current2, startX1, startX2, startY1, startY2, currentX1, currentX2, currentY1, currentY2, dist1, dist2, touch, diff;
                for (var i = 0, ln = touches.length; i < ln; i++) {
                    touch = touches[i];
                    if (touch.identifier === order[0]) {
                        current1 = touch;
                        if (current2) {
                            break;
                        }
                    }
                    else if (touch.identifier === order[1]) {
                        current2 = touch;
                        if (current1) {
                            break;
                        }
                    }
                }
                if (start1) {
                    startX1 = start1.x;
                    startY1 = start1.y;
                }
                if (current1) {
                    currentX1 = current1.pageX;
                    currentY1 = current1.pageY;
                }
                if (!touchState.not_click && start1 && current1) {
                    dist1 = Math.sqrt((Math.pow((startX1 - currentX1), 2)) + (Math.pow((startY1 - currentY1), 2)));
                    if (Math.abs(dist1) > 7) {
                        touchState.not_click = true;
                    }
                }
                if (start1 && start2 && current1 && current2) {
                    startX2 = start2.x;
                    startY2 = start2.y;
                    currentX2 = current2.pageX;
                    currentY2 = current2.pageY;
                    dist1 = Math.sqrt((Math.pow((startX2 - startX1), 2)) + (Math.pow((startY2 - startY1), 2)));
                    dist2 = Math.sqrt((Math.pow((currentX2 - currentX1), 2)) + (Math.pow((currentY2 - currentY1), 2)));
                    diff = dist2 - dist1;
                    this.zoom(touchState.zoom + diff / Math.min(width, height) * 6);
                }
            }
        };
        MultiCamera.prototype._onOrientationChange = function () {
            var _this = this;
            var preview = window['CameraPreview'], dimensions = this.getScreenDimensions(), width = dimensions.width, height = dimensions.height;
            if (this.show && this._ready && preview) {
                preview.setPreviewSize(dimensions, function () {
                    var doneDimensions = _this.getScreenDimensions();
                    if (doneDimensions.width !== width || doneDimensions.height !== height) {
                        _this._onOrientationChange();
                    }
                }, function (err) { return console.error('CameraPreview.setPreviewSize', err); });
            }
            if (this._showingPhotoOverlay) {
                this._centerPhotoOverlay();
            }
        };
        MultiCamera.prototype._onOverlayClick = function (_a) {
            var x = _a.pageX, y = _a.pageY;
            this.focus({ x: x, y: y });
        };
        MultiCamera.prototype._onReverseCameraClick = function () {
            this.switchCamera();
        };
        MultiCamera.prototype._onZoomPlusMouseDown = function () {
            if ((this._zoom + 0.15) <= this._maxZoom) {
                this.zoom(this._zoom + 0.15);
            }
            else {
                this.zoom(this._maxZoom);
            }
        };
        MultiCamera.prototype._onZoomMinusMouseDown = function () {
            if ((this._zoom - 0.15) >= this._minZoom) {
                this.zoom(this._zoom - 0.15);
            }
            else {
                this.zoom(this._minZoom);
            }
        };
        MultiCamera.prototype._onTakePhotoTransitionEnd = function () {
            var overlay = this._elements.overlay;
            if (overlay && overlay.classList && overlay.classList.contains('taking-picture')) {
                overlay.classList.remove('taking-picture');
            }
        };
        MultiCamera.prototype._onPhotoOverlayBackClick = function () {
            this._hidePhotoOverlay();
        };
        MultiCamera.prototype._onCancelClick = function () {
            var _this = this;
            if (this._show) {
                this.hide();
                window['Promise'].all(this._operations)
                    .then(function () {
                    var event = new CustomEvent('cancel', { detail: [] });
                    _this.dispatchEvent(event);
                    _this._reset();
                });
            }
        };
        MultiCamera.prototype._onUsePhotosClick = function () {
            var _this = this;
            if (this._show) {
                this.hide();
                window['Promise'].all(this._operations).then(function () {
                    console.error('donenenene');
                    var event = new CustomEvent('usephotos', { detail: _this._images.map(function (d) { return ({ width: d.width, height: d.height, data: d.data }); }) });
                    _this.dispatchEvent(event);
                    _this._reset();
                });
            }
        };
        MultiCamera.show = function (success, config) {
            var camera = this._camera;
            var cancelCB = function () {
                success && success([]);
                camera.removeEventListener('usephotos', usePhotosCB);
                camera.removeEventListener('cancel', cancelCB);
            }, usePhotosCB = function ($event) {
                success && success($event.detail);
                camera.removeEventListener('usephotos', usePhotosCB);
                camera.removeEventListener('cancel', cancelCB);
            };
            if (arguments.length === 1) {
                if (typeof success === 'object') {
                    config = success;
                    success = undefined;
                }
            }
            camera = this.getCamera();
            camera.addEventListener('usephotos', usePhotosCB);
            camera.addEventListener('cancel', cancelCB);
            camera.show(config);
            return this;
        };
        MultiCamera.hide = function () {
            this.getCamera().hide();
            return this;
        };
        MultiCamera.getCamera = function () {
            if (!this._camera) {
                this._camera = new MultiCamera();
                document.body.appendChild(this._camera._element);
            }
            return this._camera;
        };
        MultiCamera.addEventListener = function () {
            this.getCamera().addEventListener.apply(this._camera, arguments);
            return this;
        };
        MultiCamera.removeEventListener = function () {
            this.getCamera().removeEventListener.apply(this._camera, arguments);
            return this;
        };
        MultiCamera.touchTypes = {
            NONE: 0,
            DRAG_ZOOM_THUMB: 1,
            DRAG_ZOOM_FINGERS: 2,
            HOLD_ZOOM_PLUS: 4,
            HOLD_ZOOM_MINUS: 8
        };
        MultiCamera._photoWrapperTemplate = (function () {
            var result = document.createElement('div');
            result.innerHTML = "\n            <div class=\"camera-photo-wrapper\">\n                <div class=\"camera-photo\"></div>\n                <div class=\"camera-photo-remove\">-</div>\n            </div> ";
            return result.children[0];
        })();
        MultiCamera._template = (function () {
            var result = document.createElement('span');
            result.innerHTML = "" + html;
            return result.children[0];
        })();
        return MultiCamera;
    }());

    exports.MultiCamera = MultiCamera;

    return exports;

}({}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXVsdGktY2FtZXJhLmlpZmUuanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9tdWx0aWNhbWVyYS5jc3MudHMiLCIuLi9zcmMvbXVsdGljYW1lcmEuaHRtbC50cyIsIi4uL3NyYy9tdWx0aWNhbWVyYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgY3NzID0gYFxuICAgIC5jYW1lcmEtcGhvdG8tb3ZlcmxheS10ZXh0LmJhY2sge1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDMwMG1zO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IDAuM2VtO1xuICAgICAgICBib3R0b206IDQuMGVtO1xuICAgICAgICB0ZXh0LXNoYWRvdzowcHggMHB4IDEwcHggcmdiYSgwLDAsMCwwLjUpO1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjpub25lO1xuICAgICAgICBwb2ludGVyLWV2ZW50czphbGw7XG4gICAgICAgIHBhZGRpbmc6MC4yZW0gMC41ZW07XG4gICAgfVxuICAgIC5jYW1lcmEtcGhvdG8tb3ZlcmxheS1iYWNrZ3JvdW5kIHtcbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgIHRvcDowO1xuICAgICAgICBsZWZ0OjA7XG4gICAgICAgIHJpZ2h0OjA7XG4gICAgICAgIGJvdHRvbTowO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOmJsYWNrO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDMwMG1zO1xuICAgIH1cbiAgICAuY2FtZXJhLXBob3RvLW92ZXJsYXkge1xuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgdG9wOjA7XG4gICAgICAgIGxlZnQ6MDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgZGlzcGxheTpub25lO1xuICAgIH1cbiAgICAuY2FtZXJhLXBob3RvLW92ZXJsYXkgLmNhbWVyYS1waG90by13cmFwcGVyIHtcbiAgICAgICAgei1pbmRleDogMDtcbiAgICB9XG4gICAgLmNhbWVyYS1pbmRpY2F0b3IgLmNhbWVyYS1pbmRpY2F0b3ItdGV4dCB7XG4gICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTtcbiAgICAgICAgdG9wOjUwJTtcbiAgICAgICAgbGVmdDo1MCU7XG4gICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xuICAgICAgICBjb2xvcjp3aGl0ZTtcbiAgICB9XG4gICAgLmNhbWVyYS1pbmRpY2F0b3IubGVmdCAuY2FtZXJhLWluZGljYXRvci10ZXh0IHtcbiAgICAgICAgZGlzcGxheTpub25lO1xuICAgIH1cbiAgICAuY2FtZXJhLWluZGljYXRvci5sZWZ0IC5jYW1lcmEtaW5kaWNhdG9yLWxpbmUsXG4gICAgLmNhbWVyYS1pbmRpY2F0b3IucmlnaHQgLmNhbWVyYS1pbmRpY2F0b3ItbGluZVxuICAgIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6MDtcbiAgICAgICAgYm90dG9tOjA7XG4gICAgICAgIGxlZnQ6MDtcbiAgICAgICAgcmlnaHQ6MDtcbiAgICAgICAgYmFja2dyb3VuZDpyZ2JhKDUwLDE1MCwyNTUsMC43KTtcbiAgICAgICAgLXdlYmtpdC1tYXNrOmxpbmVhci1ncmFkaWVudCg5MGRlZywgYmxhY2sgMCUsIHRyYW5zcGFyZW50IDUwJSwgICBibGFjayAxMDAlKTtcbiAgICAgICAgLXdlYmtpdC1tYXNrLXNpemU6MTAwJSAxMDAlO1xuICAgICAgICAtd2Via2l0LW1hc2stcG9zaXRpb246MCUgMCU7XG4gICAgICAgIC13ZWJraXQtbWFzay1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICB9XG4gICAgLmNhbWVyYS1pbmRpY2F0b3Ige1xuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgb3ZlcmZsb3c6dmlzaWJsZTtcbiAgICB9XG4gICAgLmNhbWVyYS1pbmRpY2F0b3IubGVmdCB7XG4gICAgICAgIHJpZ2h0OiA3ZW07XG4gICAgICAgIGxlZnQ6IDVlbTtcbiAgICAgICAgYm90dG9tOiA0LjBlbTtcbiAgICAgICAgaGVpZ2h0OiAxcHg7XG4gICAgICAgIGRpc3BsYXk6bm9uZTtcbiAgICB9XG4gICAgLmNhbWVyYS1pbmRpY2F0b3IucmlnaHQge1xuICAgICAgICByaWdodDogMC4zZW07XG4gICAgICAgIGxlZnQ6IDAuM2VtO1xuICAgICAgICB0b3A6IDEuNWVtO1xuICAgICAgICBoZWlnaHQ6IDFweDtcbiAgICB9XG4gICAgLmNhbWVyYS1pbmRpY2F0b3IuYm90dG9tIC5jYW1lcmEtaW5kaWNhdG9yLXRleHQsXG4gICAgLmNhbWVyYS1pbmRpY2F0b3IudG9wIC5jYW1lcmEtaW5kaWNhdG9yLXRleHRcbiAgICB7XG4gICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKXJvdGF0ZSgtOTBkZWcpO1xuICAgICAgICB0b3A6NTAlO1xuICAgICAgICBsZWZ0OjAlO1xuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgY29sb3I6d2hpdGU7XG4gICAgfVxuICAgIC5jYW1lcmEtaW5kaWNhdG9yLnRvcCAuY2FtZXJhLWluZGljYXRvci10ZXh0IHtcbiAgICAgICAgbWFyZ2luLXRvcDotMWVtO1xuICAgIH1cbiAgICAuY2FtZXJhLWluZGljYXRvci50b3AgLmNhbWVyYS1pbmRpY2F0b3ItbGluZSxcbiAgICAuY2FtZXJhLWluZGljYXRvci5ib3R0b20gLmNhbWVyYS1pbmRpY2F0b3ItbGluZSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOjA7XG4gICAgICAgIGJvdHRvbTo1LjVlbTtcbiAgICAgICAgbGVmdDowO1xuICAgICAgICByaWdodDowO1xuICAgICAgICBiYWNrZ3JvdW5kOnJnYmEoNTAsMTUwLDI1NSwwLjcpO1xuICAgICAgICAtd2Via2l0LW1hc2s6bGluZWFyLWdyYWRpZW50KHRyYW5zcGFyZW50IDNlbSwgYmxhY2sgMCUsIHRyYW5zcGFyZW50IDU3JSwgICBibGFjayAxMDAlKTtcbiAgICAgICAgLXdlYmtpdC1tYXNrLXNpemU6MTAwJSAxMDAlO1xuICAgICAgICAtd2Via2l0LW1hc2stcG9zaXRpb246MCUgMCU7XG4gICAgICAgIC13ZWJraXQtbWFzay1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICB9XG4gICAgLmNhbWVyYS1pbmRpY2F0b3IuYm90dG9tIHtcbiAgICAgICAgZGlzcGxheTpub25lO1xuICAgICAgICByaWdodDogMC4zZW07XG4gICAgICAgIHRvcDogMGVtO1xuICAgICAgICBib3R0b206IDBlbTtcbiAgICAgICAgd2lkdGg6IDFweDtcbiAgICB9XG4gICAgLmNhbWVyYS1pbmRpY2F0b3IudG9wIHtcbiAgICAgICAgZGlzcGxheTpub25lO1xuICAgICAgICBsZWZ0OiAwLjNlbTtcbiAgICAgICAgdG9wOiAwZW07XG4gICAgICAgIGJvdHRvbTogMGVtO1xuICAgICAgICB3aWR0aDogMXB4O1xuICAgIH1cblxuICAgIC5jYW1lcmEtb3ZlcmxheSB7XG4gICAgICAgIHZpc2liaWxpdHk6dmlzaWJsZTtcbiAgICAgICAgcG9zaXRpb246Zml4ZWQ7XG4gICAgICAgIHRvcDowO1xuICAgICAgICBsZWZ0OjA7XG4gICAgICAgIHJpZ2h0OjA7XG4gICAgICAgIGJvdHRvbTowO1xuICAgICAgICAtd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7XG4gICAgfVxuICAgIC5jYW1lcmEtdG9vay1waWN0dXJlIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIGJhY2tncm91bmQ6ICMwMDA7XG4gICAgICAgIHRyYW5zaXRpb246IG9wYWNpdHkgMzAwbXM7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgfVxuICAgIC5jYW1lcmEtdGFrZS1waG90by1ib3JkZXIge1xuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgIHJpZ2h0OiAtMC4yNWVtO1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgICAgICBib3JkZXItcmFkaXVzOjUwJTtcbiAgICAgICAgaGVpZ2h0OjMuNzVlbTtcbiAgICAgICAgd2lkdGg6My43NWVtO1xuICAgICAgICBiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O1xuICAgICAgICBib3gtc2hhZG93OjBweCAwcHggMHB4IDAuMzVlbSB3aGl0ZSwgMHB4IDBweCAwcHggMC40ZW0gcmdiYSgwLDAsMCwwLjMpO1xuICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gNTAwbXM7XG4gICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDEwMG1zIGxpbmVhcjtcbiAgICB9XG4gICAgLmNhbWVyYS10YWtlLXBob3RvIHtcbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgIHRvcDo1MCU7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6NTAlO1xuICAgICAgICBoZWlnaHQ6My41ZW07XG4gICAgICAgIHdpZHRoOjMuNWVtO1xuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xuICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMTc1bXMgbGluZWFyO1xuICAgIH1cbiAgICAudGFraW5nLXBpY3R1cmUgLmNhbWVyYS10YWtlLXBob3RvIHtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjkpdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgIH1cbiAgICAuY2FtZXJhLXJldmVyc2Uge1xuICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgcmlnaHQ6IDAuOTVlbTtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxKXRyYW5zbGF0ZSgwLC01ZW0pdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgICAgICBoZWlnaHQ6IDIuNWVtO1xuICAgICAgICB3aWR0aDogMi41ZW07XG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbj0nMS4wJyBlbmNvZGluZz0ndXRmLTgnJTNGJTNFJTNDIS0tIFN2ZyBWZWN0b3IgSWNvbnMgOiBodHRwOi8vd3d3Lm9ubGluZXdlYmZvbnRzLmNvbS9pY29uIC0tJTNFJTNDIURPQ1RZUEUgc3ZnIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICdodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQnJTNFJTNDc3ZnIHZlcnNpb249JzEuMScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgeD0nMHB4JyB5PScwcHgnIHZpZXdCb3g9JzAgMCAxMDAwIDEwMDAnIGVuYWJsZS1iYWNrZ3JvdW5kPSduZXcgMCAwIDEwMDAgMTAwMCcgeG1sOnNwYWNlPSdwcmVzZXJ2ZSclM0UlM0NtZXRhZGF0YSUzRSBTdmcgVmVjdG9yIEljb25zIDogaHR0cDovL3d3dy5vbmxpbmV3ZWJmb250cy5jb20vaWNvbiAlM0MvbWV0YWRhdGElM0UlM0NnIGZpbGw9J3JnYmEoMjU1LDI1NSwyNTUsLjkpJyUzRSUzQ3BhdGggc3Ryb2tlPSdyZ2JhKDAsMCwwLDAuNSknIHN0cm9rZS13aWR0aD0nNDAnIGZpbGw9J3RyYW5zcGFyZW50JyBkPSdNOTEyLjIsMjU1SDc1NC42Yy04MS45LTkxLjktMTA3LjctMTIyLjUtMTM5LjItMTIyLjVIMzg5LjZjLTMxLjQsMC01Ni42LDMwLjYtMTM5LjEsMTIyLjVoLTMzLjh2LTQwLjhoLTg2LjhWMjU1SDk1LjVjLTQ1LDAtODUuNSwzMy43LTg1LjUsNzguM3Y0NDkuMmMwLDQ0LjYsNDAuNSw4NSw4NS41LDg1aDgxNi43YzQ1LDAsNzcuOC00MC40LDc3LjgtODVWMzMzLjNDOTkwLDI4OC43LDk1Ny4yLDI1NSw5MTIuMiwyNTV6Jy8lM0UlM0NwYXRoIHN0cm9rZT0ncmdiYSgyNTUsMjU1LDI1NSwuOSknIHN0cm9rZS13aWR0aD0nMjUnIGZpbGw9J3JnYmEoMCwwLDAsMC40KScgZD0nTTkxMi4yLDI1NUg3NTQuNmMtODEuOS05MS45LTEwNy43LTEyMi41LTEzOS4yLTEyMi41SDM4OS42Yy0zMS40LDAtNTYuNiwzMC42LTEzOS4xLDEyMi41aC0zMy44di00MC44aC04Ni44VjI1NUg5NS41Yy00NSwwLTg1LjUsMzMuNy04NS41LDc4LjN2NDQ5LjJjMCw0NC42LDQwLjUsODUsODUuNSw4NWg4MTYuN2M0NSwwLDc3LjgtNDAuNCw3Ny44LTg1VjMzMy4zQzk5MCwyODguNyw5NTcuMiwyNTUsOTEyLjIsMjU1eicvJTNFJTNDcGF0aCBkPSdNNjE2LjksNjU5LjhjLTMzLjUsMjguMS03My45LDQ0LjMtMTE2LjksNDQuM2MtOTIuOCwwLTE2OS4yLTczLjktMTgwLjktMTU4LjFoNzguMUwyOTgsNDE4LjNsLTk1LjgsMTI3LjZoNzUuMkMyODkuNCw2NTMuMSwzODMuOSw3NDUsNTAwLDc0NWM1My4zLDAsMTA1LjEtMTkuMywxNDUuNy01NC4xbDYtNS41bC0yOS42LTI5LjhMNjE2LjksNjU5Ljh6Jy8lM0UlM0NwYXRoIGQ9J002NTIuNSwzNTQuMkM2MTEuMSwzMTYuNSw1NTcsMjk2LDUwMCwyOTZjLTUzLjMsMC0xMDUuMSwxOS4zLTE0NS43LDU0LjFsLTYsNS4ybDI5LjYsMjkuNmw1LjItNC40YzMzLTI3LjcsNzQuNS00My40LDExNi45LTQzLjRjOTIuOCwwLDE2OS4xLDczLjUsMTgwLjksMTYyLjhoLTc4LjJsOTkuMSwxMzAuN2w5Ni0xMzAuN2gtNzUuM0M3MTYuOCw0NDksNjkyLjEsMzkwLjQsNjUyLjUsMzU0LjJ6Jy8lM0UlM0MvZyUzRSUzQy9zdmclM0UlMEFcIik7XG4gICAgICAgIGJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOjIuNWVtIDIuNWVtO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgfVxuICAgIC5jYW1lcmEtYm90dG9tLXRvb2xiYXIge1xuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgYm90dG9tOjA7XG4gICAgICAgIGxlZnQ6MDtcbiAgICAgICAgcmlnaHQ6MDtcbiAgICAgICAgaGVpZ2h0OiA0LjFlbTtcbiAgICAgICAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuMSk7XG4gICAgICAgIG92ZXJmbG93LXg6c2Nyb2xsO1xuICAgICAgICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzp0b3VjaDtcbiAgICB9XG4gICAgLmNhbWVyYS1pbWFnZSB7XG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xuICAgICAgICBkaXNwbGF5OmlubGluZS1ibG9jaztcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwLjVlbTtcbiAgICAgICAgYm94LXNoYWRvdzowcHggMHB4IDBweCAwLjVlbSBibGFjaztcbiAgICAgICAgaGVpZ2h0OjVlbTtcbiAgICAgICAgd2lkdGg6NWVtO1xuICAgIH1cbiAgICAuY2FtZXJhLXRleHQtb3B0aW9uIHtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICB0ZXh0LXNoYWRvdzowcHggMHB4IDEwcHggcmdiYSgwLDAsMCwwLjUpO1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgIHBhZGRpbmc6MCAwLjVlbTtcbiAgICB9XG4gICAgLmNhbWVyYS11c2UtcGhvdG9zIHtcbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgIHJpZ2h0OiAwLjNlbTtcbiAgICAgICAgYm90dG9tOiA0LjBlbTtcbiAgICAgICAgcGFkZGluZzowLjJlbSAwLjVlbTtcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAzMDBtcztcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG4gICAgLmNhbWVyYS11c2UtcGhvdG9zLmhhcy1waG90b3Mge1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgIH1cbiAgICAuY2FtZXJhLWNhbmNlbCB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgbGVmdDogMC4zZW07XG4gICAgICAgIGJvdHRvbTogNC4wZW07XG4gICAgICAgIHBhZGRpbmc6MC4yZW0gMC41ZW07XG4gICAgfVxuICAgIC5jYW1lcmEtem9vbSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgIGxlZnQ6IDJlbTtcbiAgICAgICAgaGVpZ2h0OiAxNWVtO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAtNTAlKTtcbiAgICB9XG4gICAgLmNhbWVyYS16b29tLWJhY2tncm91bmQtd3JhcHBlciB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgd2lkdGg6IDAuNWVtO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwKTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIC13ZWJraXQtbWFzazogcmFkaWFsLWdyYWRpZW50KHRyYW5zcGFyZW50IC43NWVtLCBibGFjayAuNzVlbSwgYmxhY2sgMjVlbSk7XG4gICAgICAgIC13ZWJraXQtbWFzay1zaXplOjMwZW0gMzBlbTtcbiAgICAgICAgLXdlYmtpdC1tYXNrLXBvc2l0aW9uOjUwJSAwJTtcbiAgICAgICAgLXdlYmtpdC1tYXNrLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIH1cbiAgICAuY2FtZXJhLXpvb20tYmFja2dyb3VuZCB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDBweCAwcHggMHB4IDFweCByZ2JhKDI1NSwyNTUsMjU1LDAuMik7XG4gICAgICAgIGJhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjMpO1xuICAgICAgICBvdmVyZmxvdzp2aXNpYmxlO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICByaWdodDogMDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMWVtO1xuICAgIH1cbiAgICAuY2FtZXJhLXpvb20tcGx1cyB7XG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgZm9udC1zaXplOiAxLjVlbTtcbiAgICAgICAgdGV4dC1zaGFkb3c6MHB4IDBweCAxMHB4IHJnYmEoMCwwLDAsMC41KTtcbiAgICAgICAgYm90dG9tOiAxMDAlO1xuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcGFkZGluZzogMC41ZW07XG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApO1xuICAgIH1cbiAgICAuY2FtZXJhLXpvb20tbWludXMge1xuICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgIGZvbnQtc2l6ZTogMmVtO1xuICAgICAgICB0ZXh0LXNoYWRvdzowcHggMHB4IDEwcHggcmdiYSgwLDAsMCwwLjUpO1xuICAgICAgICBwYWRkaW5nOiAwLjVlbTtcbiAgICAgICAgdG9wOiAxMDAlO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwKTtcbiAgICAgICAgbWFyZ2luLXRvcDogLTAuMjVlbTtcbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgfVxuXG4gICAgLmNhbWVyYS16b29tLXRodW1iIHtcbiAgICAgICAgYm94LXNoYWRvdzogMHB4IDBweCAwcHggMC4xNWVtIHJnYmEoMTAwLDI1NSwxMDAsMC43KTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICBoZWlnaHQ6IDEuNWVtO1xuICAgICAgICB3aWR0aDogMS41ZW07XG4gICAgICAgIHRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwgNTAlKTtcbiAgICAgICAgYm90dG9tOiAwJTtcbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgfVxuICAgIC5jYW1lcmEtem9vbS1zdHJldGNoIHtcbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IC0xZW07XG4gICAgICAgIHRvcDogLTFlbTtcbiAgICAgICAgcmlnaHQ6IC0xZW07XG4gICAgICAgIGJvdHRvbTogLTFlbTtcbiAgICB9XG4gICAgLmNhbWVyYS1waG90by13cmFwcGVyIHtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMGVtLDBlbSlzY2FsZSgxKTtcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDMwMG1zLCB3aWR0aCAzMDBtcywgaGVpZ2h0IDMwMG1zLCBvcGFjaXR5IDMwMG1zLCBsZWZ0IDMwMG1zLCBib3R0b20gMzAwbXM7XG4gICAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIGJveC1zaGFkb3c6IC0xcHggMHB4IDBweCByZ2JhKDI1NSwyNTUsMjU1LC41KTtcbiAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICB3aWR0aDogMy41ZW07XG4gICAgICAgIGhlaWdodDogMy41ZW07XG4gICAgICAgIG9wYWNpdHk6IDAuODU7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCUgNTAlO1xuICAgICAgICAvL3RvcDogMDtcbiAgICAgICAgLy90cmFuc2Zvcm0tb3JpZ2luOiAwJSAwJTtcbiAgICB9XG4gICAgLmNhbWVyYS1waG90by13cmFwcGVyLmFjdGl2ZTo6YWZ0ZXIge1xuICAgICAgICBjb250ZW50OiBcIiBcIjtcbiAgICAgICAgcG9zaXRpb246YWJzb2x1dGU7XG4gICAgICAgIHRvcDowO1xuICAgICAgICBib3R0b206MDtcbiAgICAgICAgbGVmdDowO1xuICAgICAgICByaWdodDowO1xuICAgICAgICBiYWNrZ3JvdW5kOnJnYmEoMTAwLDI1NSwxMDAsMC4zNSk7XG4gICAgfVxuICAgIC5jYW1lcmEtcGhvdG8ge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDMwMG1zLCBvcGFjaXR5IDMwMG1zLCB3aWR0aCAzMDBtcywgaGVpZ2h0IDMwMG1zO1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDApdHJhbnNsYXRlKDBweCwwcHgpO1xuICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwJSA1MCU7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O1xuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgei1pbmRleDowO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIC8vdG9wOiAwO1xuICAgIH1cbiAgICAuY2FtZXJhLXBob3RvLXJlbW92ZSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6cmdiYSgyNTUsMCwwLDAuNSk7XG4gICAgICAgIGJveC1zaGFkb3c6ICAwcHggNXB4IDEwcHggcmdiYSgwLDAsMCwwLjUpO1xuICAgICAgICB0ZXh0LXNoYWRvdzogIDBweCAwcHggMXB4IGJsYWNrO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMC41KTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDIwMCwyMDAsMjAwLC44KTtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICB0ZXh0LWFsaWduOmNlbnRlcjtcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDMwMG1zO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpO1xuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcbiAgICAgICAgei1pbmRleDoxO1xuICAgICAgICBmb250LXdlaWdodDpib2xkO1xuICAgICAgICB3aWR0aDoxMDAlO1xuICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICAgIHRvcDogMC4wNWVtO1xuICAgICAgICByaWdodDogMC4wNWVtO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgIGhlaWdodDogMS41ZW07XG4gICAgICAgIHdpZHRoOiAxLjVlbTtcbiAgICB9XG5gO1xuIiwiaW1wb3J0IHtjc3N9IGZyb20gJy4vbXVsdGljYW1lcmEuY3NzJztcbmV4cG9ydCBjb25zdCBodG1sID0gYFxuPGRpdiBjbGFzcz1cImNhbWVyYS1vdmVybGF5XCI+XG4gICAgPHN0eWxlPlxuICAgICR7Y3NzfVxuICAgIDwvc3R5bGU+XG4gICAgPGRpdiBjbGFzcz1cImNhbWVyYS16b29tIGNhbWVyYS16b29tLXBhcnRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNhbWVyYS16b29tLXN0cmV0Y2ggY2FtZXJhLXpvb20tcGFydFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FtZXJhLXpvb20tcGx1c1wiPis8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNhbWVyYS16b29tLWJhY2tncm91bmQtd3JhcHBlciBjYW1lcmEtem9vbS1wYXJ0XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FtZXJhLXpvb20tYmFja2dyb3VuZCBjYW1lcmEtem9vbS1wYXJ0XCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2FtZXJhLXpvb20tbWludXNcIj4tPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYW1lcmEtem9vbS10aHVtYiBjYW1lcmEtem9vbS1wYXJ0XCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNhbWVyYS1yZXZlcnNlXCI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNhbWVyYS10YWtlLXBob3RvLWJvcmRlciBjYW1lcmEtdGFrZS1waG90by1wYXJ0XCI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImNhbWVyYS10YWtlLXBob3RvIGNhbWVyYS10YWtlLXBob3RvLXBhcnRcIj48L2Rpdj5cbiAgICAgICAgPGEgY2xhc3M9XCJjYW1lcmEtY2FuY2VsIGNhbWVyYS10ZXh0LW9wdGlvblwiIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCIgPkNhbmNlbDwvYT5cbiAgICAgICAgPGEgY2xhc3M9XCJjYW1lcmEtdXNlLXBob3RvcyBjYW1lcmEtdGV4dC1vcHRpb25cIiBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiPlVzZSBQaG90b3M8L2E+XG4gICAgPGRpdiBjbGFzcz1cImNhbWVyYS1pbmRpY2F0b3IgdG9wXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiY2FtZXJhLWluZGljYXRvci1saW5lXCI+PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImNhbWVyYS1pbmRpY2F0b3ItdGV4dFwiPjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY2FtZXJhLWluZGljYXRvciBib3R0b21cIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJjYW1lcmEtaW5kaWNhdG9yLWxpbmVcIj48L3NwYW4+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiY2FtZXJhLWluZGljYXRvci10ZXh0XCI+PC9zcGFuPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjYW1lcmEtaW5kaWNhdG9yIHJpZ2h0XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiY2FtZXJhLWluZGljYXRvci1saW5lXCI+PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImNhbWVyYS1pbmRpY2F0b3ItdGV4dFwiPlBob3Rvczwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY2FtZXJhLWluZGljYXRvciBsZWZ0XCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiY2FtZXJhLWluZGljYXRvci1saW5lXCI+PC9zcGFuPlxuICAgICAgICA8c3BhbiBjbGFzcz1cImNhbWVyYS1pbmRpY2F0b3ItdGV4dFwiPjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY2FtZXJhLXBob3RvLW92ZXJsYXlcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNhbWVyYS1waG90by1vdmVybGF5LWJhY2tncm91bmRcIj48L2Rpdj5cbiAgICAgICAgPGEgaHJlZj1cImphdmFzY3JpcHQ6dm9pZCgwKVwiIGNsYXNzPVwiY2FtZXJhLXBob3RvLW92ZXJsYXktdGV4dCBiYWNrXCI+QmFjazwvYT5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiY2FtZXJhLWJvdHRvbS10b29sYmFyXCIgPlxuICAgIDwvZGl2PlxuPC9kaXY+XG5gXG4iLCJpbXBvcnQge2h0bWx9IGZyb20gJy4vbXVsdGljYW1lcmEuaHRtbCc7XG5cbmludGVyZmFjZSBNdWx0aUNhbWVyYUNvbmZpZyB7XG4gICBtYXhXaWR0aD86IG51bWJlcjtcbiAgIG1heEhlaWdodD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNdWx0aUNhbWVyYUltZyB7XG4gICAgZGF0YTogc3RyaW5nO1xuICAgIHdpZHRoOm51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VQaG90b0V2ZW50IGV4dGVuZHMgQ3VzdG9tRXZlbnQge1xuICAgIGRldGFpbDogTXVsdGlDYW1lcmFJbWdbXTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FuY2VsRXZlbnQgZXh0ZW5kcyBDdXN0b21FdmVudCB7XG4gICAgZGV0YWlsOiBNdWx0aUNhbWVyYUltZ1tdO1xufVxuZXhwb3J0IGludGVyZmFjZSBUb29rUGhvdG9FdmVudCBleHRlbmRzIEN1c3RvbUV2ZW50IHtcbiAgICBkZXRhaWw6IE11bHRpQ2FtZXJhSW1nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE11bHRpQ2FtZXJhRXZlbnRzIHtcbiAgICB1c2VwaG90b3M6ICBVc2VQaG90b0V2ZW50O1xuICAgIGNhbmNlbDogQ2FuY2VsRXZlbnQ7XG4gICAgdG9va3Bob3RvOiAgVG9va1Bob3RvRXZlbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTXVsdGlDYW1lcmFJbWFnZSBleHRlbmRzIE11bHRpQ2FtZXJhSW1nIHtcbiAgICByZW1vdmVkPzogYm9vbGVhbjtcbiAgICBwcmV2aWV3Pzoge3dpZHRoPzogbnVtYmVyOyBoZWlnaHQ/OiBudW1iZXJ9O1xuICAgIGVsZW1lbnQ/OiB7eD86IG51bWJlcjsgeT86IG51bWJlcjsgc2NhbGU/OiBudW1iZXIsIGVsPzogSFRNTEVsZW1lbnR9O1xuICAgIHdyYXBwZXI/OiB7eD86IG51bWJlcjsgeT86IG51bWJlcjsgc2NhbGU/OiBudW1iZXI7IHNpemU/OiBudW1iZXI7IGVsPzogSFRNTEVsZW1lbnR9O1xuICAgIHg/OiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIE11bHRpQ2FtZXJhRWxlbWVudHMgPVxuICAgICAgICAnb3ZlcmxheScgfFxuICAgICAgICAnem9vbVBsdXMnIHxcbiAgICAgICAgJ3pvb21NaW51cycgfFxuICAgICAgICAnem9vbVRodW1iJyB8XG4gICAgICAgICd6b29tQkcnIHxcbiAgICAgICAgJ3pvb21CR1dyYXBwZXInIHxcbiAgICAgICAgJ3JldmVyc2VDYW1lcmEnIHxcbiAgICAgICAgJ2NhbmNlbCcgfFxuICAgICAgICAndGFrZVBob3RvJyB8XG4gICAgICAgICd1c2VQaG90b3MnIHxcbiAgICAgICAgJ2JvdHRvbVRvb2xiYXInIHxcbiAgICAgICAgJ3RvcEluZGljYXRvclRleHQnIHxcbiAgICAgICAgJ2JvdHRvbUluZGljYXRvclRleHQnIHxcbiAgICAgICAgJ2xlZnRJbmRpY2F0b3JUZXh0JyB8XG4gICAgICAgICdyaWdodEluZGljYXRvclRleHQnIHxcbiAgICAgICAgJ3Bob3RvT3ZlcmxheScgfFxuICAgICAgICAncGhvdG9PdmVybGF5QmFja2dyb3VuZCcgfFxuICAgICAgICAnYmFjayc7XG5cbmV4cG9ydCBjbGFzcyBNdWx0aUNhbWVyYSB7XG4gICAgX2VsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIF9vcGVyYXRpb25zOiBQcm9taXNlPGFueT5bXTtcbiAgICBfZWxlbWVudHM6IHtba2V5IGluIE11bHRpQ2FtZXJhRWxlbWVudHNdOiBIVE1MRWxlbWVudH07XG4gICAgX2VtVG9QeDogbnVtYmVyO1xuICAgIF9zaG93OiBNdWx0aUNhbWVyYUNvbmZpZyB8IGJvb2xlYW47XG4gICAgX2NvbmZpZzogTXVsdGlDYW1lcmFDb25maWc7XG4gICAgX3JlYWR5OiBib29sZWFuO1xuICAgIF90YWtpbmdQaWN0dXJlOiBib29sZWFuO1xuICAgIF9zaG93aW5nUGhvdG9PdmVybGF5OiBNdWx0aUNhbWVyYUltYWdlIHwgZmFsc2U7XG4gICAgX2ltYWdlczogTXVsdGlDYW1lcmFJbWFnZVtdID0gW107XG4gICAgX2FjdGl2ZVBob3RvOiBNdWx0aUNhbWVyYUltYWdlO1xuICAgIF9mcm9udENhbWVyYTogYm9vbGVhbjtcbiAgICBfbWF4Wm9vbTogbnVtYmVyID0gNTtcbiAgICBfbWluWm9vbTogbnVtYmVyID0gMTtcbiAgICBfem9vbTogbnVtYmVyID0gMTtcbiAgICBfdG91Y2hTdGF0ZToge1xuICAgICAgICB0eXBlOiBNdWx0aUNhbWVyYVsndG91Y2hUeXBlcyddW2tleW9mIE11bHRpQ2FtZXJhWyd0b3VjaFR5cGVzJ11dO1xuICAgICAgICB6b29tPzogbnVtYmVyO1xuICAgICAgICB4U3RhcnQ/OiBudW1iZXI7XG4gICAgICAgIHlTdGFydD86IG51bWJlcjtcbiAgICAgICAgdGFyZ2V0PzogSFRNTEVsZW1lbnQ7XG4gICAgICAgIHN0YXJ0RXZlbnQ/OiBFdmVudDtcbiAgICAgICAgcGx1c1RpbWVyPzogYW55O1xuICAgICAgICBtaW51c1RpbWVyPzogYW55O1xuICAgICAgICBzdGFydHM/OiB7bGVuZ3RoOiBudW1iZXIsIFtrZXk6IG51bWJlcl06IHt4OiBudW1iZXI7IHk6bnVtYmVyO319O1xuICAgICAgICBvcmRlcj86IG51bWJlcltdXG4gICAgICAgIG5vdF9jbGljaz86IGJvb2xlYW47XG4gICAgfTtcbiAgICBfZXZlbnRzOiB7XG4gICAgICAgIFtrZXkgaW4ga2V5b2YgTXVsdGlDYW1lcmFFdmVudHNdOiAoKGV2ZW50OiBNdWx0aUNhbWVyYUV2ZW50c1trZXldKSA9PiAodm9pZCB8IG51bGwgfCB1bmRlZmluZWQgfCBib29sZWFuKSlbXVxuICAgIH0gPSB7XG4gICAgICAgIHVzZXBob3RvczogW10sXG4gICAgICAgIGNhbmNlbDogW10sXG4gICAgICAgIHRvb2twaG90bzogW11cbiAgICB9O1xuICAgIFxuICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgTXVsdGlDYW1lcmEuX2NhbWVyYSA9IHRoaXM7XG5cbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnQgPSAoTXVsdGlDYW1lcmEuX3RlbXBsYXRlIGFzIEhUTUxFbGVtZW50KS5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IHtvdmVybGF5LCB0YWtlUGhvdG8sIGJhY2ssIGNhbmNlbCwgdXNlUGhvdG9zfSA9IHRoaXMuX2VsZW1lbnRzID0ge1xuICAgICAgICAgICAgb3ZlcmxheTogZWxlbWVudCxcbiAgICAgICAgICAgIHpvb21QbHVzOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW1lcmEtem9vbS1wbHVzJyksXG4gICAgICAgICAgICB6b29tTWludXM6IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhbWVyYS16b29tLW1pbnVzJyksXG4gICAgICAgICAgICB6b29tVGh1bWI6IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhbWVyYS16b29tLXRodW1iJyksXG4gICAgICAgICAgICB6b29tQkc6IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhbWVyYS16b29tLWJhY2tncm91bmQnKSxcbiAgICAgICAgICAgIHpvb21CR1dyYXBwZXI6IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhbWVyYS16b29tLWJhY2tncm91bmQtd3JhcHBlcicpLFxuICAgICAgICAgICAgcmV2ZXJzZUNhbWVyYTogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FtZXJhLXJldmVyc2UnKSxcbiAgICAgICAgICAgIGNhbmNlbDogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FtZXJhLWNhbmNlbCcpLFxuICAgICAgICAgICAgdGFrZVBob3RvOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW1lcmEtdGFrZS1waG90bycpLFxuICAgICAgICAgICAgdXNlUGhvdG9zOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW1lcmEtdXNlLXBob3RvcycpLFxuICAgICAgICAgICAgYm90dG9tVG9vbGJhcjogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FtZXJhLWJvdHRvbS10b29sYmFyJyksXG4gICAgICAgICAgICB0b3BJbmRpY2F0b3JUZXh0OiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW1lcmEtaW5kaWNhdG9yLnRvcCAuY2FtZXJhLWluZGljYXRvci10ZXh0JyksXG4gICAgICAgICAgICBib3R0b21JbmRpY2F0b3JUZXh0OiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW1lcmEtaW5kaWNhdG9yLmJvdHRvbSAuY2FtZXJhLWluZGljYXRvci10ZXh0JyksXG4gICAgICAgICAgICBsZWZ0SW5kaWNhdG9yVGV4dDogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FtZXJhLWluZGljYXRvci5sZWZ0IC5jYW1lcmEtaW5kaWNhdG9yLXRleHQnKSxcbiAgICAgICAgICAgIHJpZ2h0SW5kaWNhdG9yVGV4dDogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FtZXJhLWluZGljYXRvci5yaWdodCAuY2FtZXJhLWluZGljYXRvci10ZXh0JyksXG4gICAgICAgICAgICBwaG90b092ZXJsYXk6IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhbWVyYS1waG90by1vdmVybGF5JyksXG4gICAgICAgICAgICBwaG90b092ZXJsYXlCYWNrZ3JvdW5kOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW1lcmEtcGhvdG8tb3ZlcmxheS1iYWNrZ3JvdW5kJyksXG4gICAgICAgICAgICBiYWNrOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYW1lcmEtcGhvdG8tb3ZlcmxheS10ZXh0LmJhY2snKVxuICAgICAgICB9O1xuXG4gICAgICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcblxuICAgICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgICB0aGlzLl9vcGVyYXRpb25zID0gW107XG4gICAgICAgIHRoaXMuX29uRGV2aWNlUmVhZHkgPSB0aGlzLl9vbkRldmljZVJlYWR5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX29uT3JpZW50YXRpb25DaGFuZ2UgPSB0aGlzLl9vbk9yaWVudGF0aW9uQ2hhbmdlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgY2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5fb25DYW5jZWxDbGljaygpLCB0cnVlKTtcbiAgICAgICAgdXNlUGhvdG9zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5fb25Vc2VQaG90b3NDbGljaygpLCB0cnVlKTtcbiAgICAgICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIChldmVudDogTW91c2VFdmVudCAmIFRvdWNoRXZlbnQpID0+IHRoaXMuX29uT3ZlcmxheVRvdWNoRW5kKGV2ZW50KSwgdHJ1ZSk7XG4gICAgICAgIGJhY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLl9vblBob3RvT3ZlcmxheUJhY2tDbGljaygpLCB0cnVlKTtcbiAgICAgICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoZXZlbnQ6IE1vdXNlRXZlbnQgJiBUb3VjaEV2ZW50KSA9PiB0aGlzLl9vbk92ZXJsYXlUb3VjaE1vdmUoZXZlbnQpLCB0cnVlKTtcbiAgICAgICAgb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKGV2ZW50OiBNb3VzZUV2ZW50ICYgVG91Y2hFdmVudCkgPT4gdGhpcy5fb25PdmVybGF5VG91Y2hTdGFydChldmVudCksIHRydWUpO1xuICAgICAgICBvdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgKGV2ZW50OiBNb3VzZUV2ZW50ICYgVG91Y2hFdmVudCkgPT4gdGhpcy5fb25PdmVybGF5VG91Y2hDYW5jZWwoZXZlbnQpLCB0cnVlKTtcbiAgICAgICAgdGFrZVBob3RvLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCAoKSA9PiB0aGlzLl9vblRha2VQaG90b1RyYW5zaXRpb25FbmQoKSk7XG5cbiAgICAgICAgLy9UT0RPIGNvbnNpZGVyIGFkZCBpbiBzaG93IHJlbW92ZSBldmVudGxpc3RlbmVyIGluIGhpZGVcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX29uT3JpZW50YXRpb25DaGFuZ2UpO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93WydkZXZpY2UnXSA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHdpbmRvd1snZGV2aWNlJ10uY29yZG92YSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RldmljZXJlYWR5JywgdGhpcy5fb25EZXZpY2VSZWFkeSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9vbkRldmljZVJlYWR5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRFdmVudExpc3RlbmVyPEEgZXh0ZW5kcyBrZXlvZiBNdWx0aUNhbWVyYUV2ZW50cyA9IGtleW9mIE11bHRpQ2FtZXJhRXZlbnRzPiAobmFtZTogQSwgZm46ICgoZXZlbnQ6IE11bHRpQ2FtZXJhRXZlbnRzW0FdKSA9PiAodm9pZCB8IG51bGwgfCB1bmRlZmluZWQgfCBib29sZWFuKSkpIHtcbiAgICAgICAgKHRoaXMuX2V2ZW50c1tuYW1lXSBhcyBhbnkpLnB1c2goZm4gYXMgKGV2ZW50OiBFdmVudCkgPT4gYW55KTtcbiAgICB9XG5cbiAgICByZW1vdmVFdmVudExpc3RlbmVyPEEgZXh0ZW5kcyBrZXlvZiBNdWx0aUNhbWVyYUV2ZW50cyA9IGtleW9mIE11bHRpQ2FtZXJhRXZlbnRzPiAobmFtZTogQSwgZm46ICgoZXZlbnQ6IE11bHRpQ2FtZXJhRXZlbnRzW0FdKSA9PiAodm9pZCB8IG51bGwgfCB1bmRlZmluZWQgfCBib29sZWFuKSkpIHtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5fZXZlbnRzW25hbWVdLFxuICAgICAgICAgICAgaW5kZXggPSAoZXZlbnRzIGFzIGFueSkuaW5kZXhPZihmbiBhcyAoZXZlbnQ6IEV2ZW50KSA9PiBhbnkpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBldmVudHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc3BhdGNoRXZlbnQ8QSBleHRlbmRzIGtleW9mIE11bHRpQ2FtZXJhRXZlbnRzPihldmVudDogTXVsdGlDYW1lcmFFdmVudHNbQV0pIHtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5fZXZlbnRzW2V2ZW50LnR5cGVdO1xuICAgICAgICBmb3IgKHZhciBpPTAsbG49ZXZlbnRzLmxlbmd0aDtpPGxuO2krKykge1xuICAgICAgICAgICAgZXZlbnRzW2ldKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFNjcmVlbkRpbWVuc2lvbnMgKCkge1xuICAgICAgICB2YXIge2hlaWdodCwgd2lkdGh9ID0gd2luZG93LnNjcmVlbjtcblxuICAgICAgICBpZiAodHlwZW9mIG9yaWVudGF0aW9uID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhcnNlSW50KGAke3dpbmRvdy5vcmllbnRhdGlvbn1gKSAvIDkwKSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHdpbmRvdy5zY3JlZW4ud2lkdGg7XG4gICAgICAgICAgICAgICAgd2lkdGggPSB3aW5kb3cuc2NyZWVuLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge3dpZHRoLCBoZWlnaHR9O1xuICAgIH1cblxuICAgIGdldFN1cHBvcnRlZFNpemVzIChvblN1Y2Nlc3M6IEZ1bmN0aW9uLCBvbkVycm9yOiBGdW5jdGlvbikge1xuICAgICAgIGNvbnN0IHByZXZpZXcgPSB3aW5kb3dbJ0NhbWVyYVByZXZpZXcnXTtcbiAgICAgICBwcmV2aWV3LmdldFN1cHBvcnRlZFBpY3R1cmVTaXplcyhvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHNob3cgKGNvbmZpZzogTXVsdGlDYW1lcmFDb25maWcgfCB0cnVlKSB7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSB3aW5kb3dbJ0NhbWVyYVByZXZpZXcnXSxcbiAgICAgICAgICAgIHtvdmVybGF5fSA9IHRoaXMuX2VsZW1lbnRzLFxuICAgICAgICAgICAge3dpZHRoLCBoZWlnaHR9ID0gdGhpcy5nZXRTY3JlZW5EaW1lbnNpb25zKCk7XG5cbiAgICAgICAgLy9UT0RPIGNoZWNrIHRoaXNcbiAgICAgICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgIGlmICh0aGlzLl9zaG93ID09PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9yZWFkeSB8fCAhcHJldmlldykge1xuICAgICAgICAgICAgdGhpcy5fc2hvdyA9IGNvbmZpZyB8fCB7fTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Nob3cgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jb25maWcgPSAodHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnKSB8fCB7fTtcblxuICAgICAgICBwcmV2aWV3LnN0b3BDYW1lcmEoXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2FtZXJhUHJldmlldy5zdG9wQ2FtZXJhJywgJ1NVQ0NFU1MnKTtcbiAgICAgICAgICAgICAgICBzdGFydENhbWVyYSgpO1xuICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NhbWVyYVByZXZpZXcuc3RvcENhbWVyYScsIGVycik7XG4gICAgICAgICAgICAgICAgc3RhcnRDYW1lcmEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBmdW5jdGlvbiBzdGFydENhbWVyYSAoKSB7XG4gICAgICAgICAgICBwcmV2aWV3LnN0YXJ0Q2FtZXJhKHtcbiAgICAgICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgY2FtZXJhOiBwcmV2aWV3LkNBTUVSQV9ESVJFQ1RJT04uQkFDSyxcbiAgICAgICAgICAgICAgICAgICAgdG9CYWNrOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0YXBQaG90bzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHRhcEZvY3VzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlld0RyYWc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDYW1lcmFQcmV2aWV3LnN0YXJ0Q2FtZXJhJywgJ1NVQ0NFU1MnKTtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgKGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudCkuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAoZXJyOiBFcnJvcikgPT4gY29uc29sZS5lcnJvcignQ2FtZXJhUHJldmlldy5zdGFydENhbWVyYScsIGVycilcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgaGlkZSAoKSB7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSB3aW5kb3dbJ0NhbWVyYVByZXZpZXcnXSxcbiAgICAgICAgICAgIHtvdmVybGF5fSA9IHRoaXMuX2VsZW1lbnRzO1xuICAgICAgICBpZiAodGhpcy5fcmVhZHkgJiYgdGhpcy5fc2hvdykge1xuICAgICAgICAgICAgdGhpcy5fc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgd2luZG93WydQcm9taXNlJ10uYWxsKHRoaXMuX29wZXJhdGlvbnMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHByZXZpZXcuc3RvcENhbWVyYShcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZWxlbWVudHMucGhvdG9PdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAoZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2FtZXJhUHJldmlldy5zdG9wQ2FtZXJhJywgJ1NVQ0NFU1MnKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKGVycjogRXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoJ0NhbWVyYVByZXZpZXcuc3RvcENhbWVyYScsIGVycilcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0YWtlUGhvdG8gKCkge1xuICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLl9jb25maWcgfHwge30sXG4gICAgICAgICAgIGRpbWVuc2lvbnMgPSB0aGlzLmdldFNjcmVlbkRpbWVuc2lvbnMoKSxcbiAgICAgICAgICAgd2lkdGggPSBkaW1lbnNpb25zLndpZHRoID4gZGltZW5zaW9ucy5oZWlnaHQgPyBjb25maWcubWF4SGVpZ2h0IDogY29uZmlnLm1heFdpZHRoLFxuICAgICAgICAgICBoZWlnaHQgPSBkaW1lbnNpb25zLmhlaWdodCA+IGRpbWVuc2lvbnMud2lkdGggPyBjb25maWcubWF4SGVpZ2h0IDogY29uZmlnLm1heFdpZHRoO1xuICAgICAgICBpZiAoIXRoaXMuX3JlYWR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9va1BpY3R1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICAgIHtvdmVybGF5fSA9IHRoaXMuX2VsZW1lbnRzO1xuXG4gICAgICAgIHRvb2tQaWN0dXJlLmNsYXNzTmFtZSA9ICdjYW1lcmEtdG9vay1waWN0dXJlJztcblxuICAgICAgICBpZiAoIXRoaXMuX3Rha2luZ1BpY3R1cmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3Rha2luZ1BpY3R1cmUgPSB0cnVlO1xuICAgICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKCd0YWtpbmctcGljdHVyZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9va1BpY3R1cmUuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3Rha2luZ1BpY3R1cmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0b29rUGljdHVyZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgdG9va1BpY3R1cmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0b29rUGljdHVyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdG9va1BpY3R1cmUuc3R5bGUub3BhY2l0eSA9ICcwJyk7XG4gICAgICAgIG92ZXJsYXkuYXBwZW5kQ2hpbGQodG9va1BpY3R1cmUpO1xuXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgd2luZG93WydQcm9taXNlJ10oKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHZhciByZXNvbHZlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgcHJldmlldyA9IHdpbmRvd1snQ2FtZXJhUHJldmlldyddO1xuXG4gICAgICAgICAgICBwcmV2aWV3LnRha2VQaWN0dXJlKHt3aWR0aDogd2lkdGggfHwgMCwgaGVpZ2h0OiBoZWlnaHQgfHwgMCwgcXVhbGl0eTogOTB9LCAoYmFzZTY0OiBzdHJpbmdbXSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBgZGF0YTppbWFnZS9qcGc7YmFzZTY0LCR7YmFzZTY0WzBdfWAsXG4gICAgICAgICAgICAgICAgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZTogIE11bHRpQ2FtZXJhSW1hZ2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGF0YTogYGRhdGE6aW1hZ2UvanBnO2Jhc2U2NCwke2Jhc2U2NFswXX1gLFxuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBpbWcud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBpbWcuaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICBwaG90b1dyYXBwZXIgPSBNdWx0aUNhbWVyYS5fcGhvdG9XcmFwcGVyVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIHBob3RvRWxlbWVudCA9IHBob3RvV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuY2FtZXJhLXBob3RvJykgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudCA9IHBob3RvV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuY2FtZXJhLXBob3RvLXJlbW92ZScpIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIHtib3R0b21Ub29sYmFyfSA9IHRoaXMuX2VsZW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICAgIHRvb2tQaG90b0V2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCd0b29rcGhvdG8nLCB7ZGV0YWlsOiB7ZGF0YTogaW1hZ2UuZGF0YSwgd2lkdGg6aW1hZ2Uud2lkdGgsIGhlaWdodDppbWFnZS5oZWlnaHR9fSk7XG5cblxuICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KGRpbWVuc2lvbnMud2lkdGgsIGRpbWVuc2lvbnMuaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgICAgIHBob3RvRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKFwiJHtpbWFnZS5kYXRhfVwiKWA7XG4gICAgICAgICAgICAgICAgICAgYm90dG9tVG9vbGJhci5pbnNlcnRCZWZvcmUocGhvdG9XcmFwcGVyLCBib3R0b21Ub29sYmFyLmNoaWxkTm9kZXNbMF0pO1xuXG5cbiAgICAgICAgICAgICAgICAgICBpbWFnZS5wcmV2aWV3ID0gaW1hZ2Uud2lkdGggPiBpbWFnZS5oZWlnaHQgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IG1heCxcbiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IE1hdGgubWluKGRpbWVuc2lvbnMuaGVpZ2h0LCBkaW1lbnNpb25zLndpZHRoKVxuICAgICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IE1hdGgubWluKGRpbWVuc2lvbnMud2lkdGgsIGRpbWVuc2lvbnMuaGVpZ2h0KSxcbiAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IG1heCBcbiAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgaW1hZ2Uud3JhcHBlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICBlbDogcGhvdG9XcmFwcGVyXG4gICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICBpbWFnZS5lbGVtZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAgIGVsOiBwaG90b0VsZW1lbnRcbiAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgcGhvdG9FbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoXCIke2ltYWdlLmRhdGF9XCIpYDtcblxuICAgICAgICAgICAgICAgICAgIGJvdHRvbVRvb2xiYXIuaW5zZXJ0QmVmb3JlKHBob3RvV3JhcHBlciwgYm90dG9tVG9vbGJhci5jaGlsZE5vZGVzWzBdKTtcblxuICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHBob3RvRWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMSl0cmFuc2xhdGUoMHB4LCAwcHgpJztcbiAgICAgICAgICAgICAgICAgICAgICByZW1vdmVFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDBweCknO1xuICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgcmVtb3ZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVJbWFnZShpbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgcGhvdG9XcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCRldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Nob29zZUFjdGl2ZVBob3RvKGltYWdlLCAkZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgIH0sIHRydWUpO1xuXG5cbiAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQodG9va1Bob3RvRXZlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgdGhpcy5faW1hZ2VzLnVuc2hpZnQoaW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvTGF5b3V0KCk7XG4gICAgICAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGltZy5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW1nLnNyYyA9IGRhdGE7XG4gICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNvbHZlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMzAwMClcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX29wZXJhdGlvbnMucHVzaChwcm9taXNlKTtcbiAgICAgICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb3BlcmF0aW9ucy5pbmRleE9mKHByb21pc2UpO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29wZXJhdGlvbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX3JlbW92ZUltYWdlIChpbWFnZTogTXVsdGlDYW1lcmFJbWFnZSkge1xuICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9pbWFnZXMuaW5kZXhPZihpbWFnZSksXG4gICAgICAgICAgICB7d3JhcHBlcn0gPSBpbWFnZTtcblxuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faW1hZ2VzLmxlbmd0aCA9PT0gMCAmJiB0aGlzLl9zaG93aW5nUGhvdG9PdmVybGF5KSB7XG4gICAgICAgICAgICB0aGlzLl9oaWRlUGhvdG9PdmVybGF5KCk7XG4gICAgICAgIH1cbiAgICAgICAgaW1hZ2UucmVtb3ZlZCA9IHRydWU7XG4gICAgICAgIHdyYXBwZXIuZWwuc3R5bGUudHJhbnNmb3JtID0gYCR7d3JhcHBlci5lbC5zdHlsZS50cmFuc2Zvcm0uc3BsaXQoJ3NjYWxlKDEpJylbMF19c2NhbGUoMClgO1xuICAgICAgICB3cmFwcGVyLmVsLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICAgIHdyYXBwZXIuZWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGlmICh3cmFwcGVyLmVsLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50cy5ib3R0b21Ub29sYmFyLnJlbW92ZUNoaWxkKHdyYXBwZXIuZWwpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9kb0xheW91dCgpO1xuXG4gICAgICAgIGlmIChpbWFnZSA9PT0gdGhpcy5fYWN0aXZlUGhvdG8pIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLl9pbWFnZXNbaW5kZXhdIHx8IHRoaXMuX2ltYWdlc1t0aGlzLl9pbWFnZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nob29zZUFjdGl2ZVBob3RvKG5leHQsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2Nob29zZUFjdGl2ZVBob3RvIChpbWFnZTogTXVsdGlDYW1lcmFJbWFnZSwgZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCAmJiBldmVudC50YXJnZXRbJ2NsYXNzTGlzdCddICYmIGV2ZW50LnRhcmdldFsnY2xhc3NMaXN0J10uY29udGFpbnMoJ2NhbWVyYS1waG90by1yZW1vdmUnKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVQaG90bykge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlUGhvdG8ud3JhcHBlci5lbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FjdGl2ZVBob3RvID0gaW1hZ2U7XG4gICAgICAgIHRoaXMuX3Nob3dQaG90b092ZXJsYXkoKTtcbiAgICAgICAgaW1hZ2Uud3JhcHBlci5lbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9XG4gICAgXG4gICAgX2dldEVtVG9QeCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9lbVRvUHgpIHtcbiAgICAgICAgICAgIGNvbnN0IGVtVGVzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZW1UZXN0LnN0eWxlLndpZHRoID0gZW1UZXN0LnN0eWxlLmhlaWdodCA9ICcxZW0nO1xuICAgICAgICAgICAgZW1UZXN0LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGVtVGVzdC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZChlbVRlc3QpO1xuICAgICAgICAgICAgdGhpcy5fZW1Ub1B4ID0gZW1UZXN0LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVDaGlsZChlbVRlc3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9lbVRvUHg7XG4gICB9XG5cbiAgICBfaGlkZVBob3RvT3ZlcmxheSAoKSB7XG4gICAgICAgIGNvbnN0IGltYWdlID0gdGhpcy5fYWN0aXZlUGhvdG8sXG4gICAgICAgICAgICBlbVRvUHggPSB0aGlzLl9nZXRFbVRvUHgoKSxcbiAgICAgICAgICAgIHt3cmFwcGVyOiBvcmlnaW5hbH0gPSBpbWFnZSB8fCB7d3JhcHBlcjogdW5kZWZpbmVkfSxcbiAgICAgICAgICAgIHdyYXBwZXIgPSB0aGlzLl9zaG93aW5nUGhvdG9PdmVybGF5ICE9PSBmYWxzZSA/IHRoaXMuX3Nob3dpbmdQaG90b092ZXJsYXkud3JhcHBlciA6IHRoaXMuX3Nob3dpbmdQaG90b092ZXJsYXksXG4gICAgICAgICAgICByZWN0ID0gb3JpZ2luYWwgJiYgb3JpZ2luYWwuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgYXMgQ2xpZW50UmVjdCAmIHt4OiBudW1iZXJ9LFxuICAgICAgICAgICAgZWxlbWVudHMgPSB0aGlzLl9lbGVtZW50cztcblxuICAgICAgICBpZiAoIXdyYXBwZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG9yaWdpbmFsLmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLl9zaG93aW5nUGhvdG9PdmVybGF5ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHdyYXBwZXIuZWwucGFyZW50Tm9kZSA9PT0gZWxlbWVudHMucGhvdG9PdmVybGF5KSB7XG4gICAgICAgICAgICBjb25zdCBwaG90byA9IHdyYXBwZXIuZWwucXVlcnlTZWxlY3RvcignLmNhbWVyYS1waG90bycpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgZWxlbWVudHMuYmFjay5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgICAgICAgZWxlbWVudHMucGhvdG9PdmVybGF5QmFja2dyb3VuZC5zdHlsZS5vcGFjaXR5ID0gJzAnO1xuICAgICAgICAgICAgd3JhcHBlci5lbC5zdHlsZS5oZWlnaHQgPSBudWxsO1xuICAgICAgICAgICAgd3JhcHBlci5lbC5zdHlsZS53aWR0aCA9IG51bGw7XG4gICAgICAgICAgICB3cmFwcGVyLmVsLnN0eWxlLmxlZnQgPSBgJHtyZWN0LnggLyBlbVRvUHh9ZW1gO1xuICAgICAgICAgICAgd3JhcHBlci5lbC5zdHlsZS5ib3R0b20gPSAnMGVtJztcbiAgICAgICAgICAgIHBob3RvLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICAgICAgICBpZiAoaW1hZ2UucmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuZWwuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwZW0sMGVtKXNjYWxlKDApJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdyYXBwZXIuZWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAod3JhcHBlci5lbC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fc2hvd2luZ1Bob3RvT3ZlcmxheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMucGhvdG9PdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5waG90b092ZXJsYXkucmVtb3ZlQ2hpbGQod3JhcHBlci5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2hvd1Bob3RvT3ZlcmxheSAoKSB7XG4gICAgICAgIGNvbnN0IGltYWdlID0gIHRoaXMuX2FjdGl2ZVBob3RvLFxuICAgICAgICAgICAgZW1Ub1B4ID0gdGhpcy5fZ2V0RW1Ub1B4KCksXG4gICAgICAgICAgICB7d2lkdGgsIGhlaWdodCwgd3JhcHBlcjogb3JpZ2luYWwsIGRhdGEsIHByZXZpZXd9ID0gaW1hZ2UsXG4gICAgICAgICAgICByZWN0ID0gb3JpZ2luYWwuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgYXMgQ2xpZW50UmVjdCAmIHt4OiBudW1iZXJ9LFxuICAgICAgICAgICAgZWxlbWVudHMgPSB0aGlzLl9lbGVtZW50cztcblxuICAgICAgICBpZiAodGhpcy5fc2hvd2luZ1Bob3RvT3ZlcmxheSkge1xuICAgICAgICAgICAgdGhpcy5faGlkZVBob3RvT3ZlcmxheSgpXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7d3JhcHBlcn0gPSB0aGlzLl9zaG93aW5nUGhvdG9PdmVybGF5ID0ge2RhdGEsIHdpZHRoLCBoZWlnaHQsIHByZXZpZXc6IHsuLi5wcmV2aWV3fSwgd3JhcHBlcjogey4uLmltYWdlLndyYXBwZXIsIGVsOiBvcmlnaW5hbC5lbC5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTEVsZW1lbnR9fSxcbiAgICAgICAgICAgIHBob3RvID0gd3JhcHBlci5lbC5xdWVyeVNlbGVjdG9yKCcuY2FtZXJhLXBob3RvJykgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgICAgICByZW1vdmUgPSB3cmFwcGVyLmVsLnF1ZXJ5U2VsZWN0b3IoJy5jYW1lcmEtcGhvdG8tcmVtb3ZlJylcblxuICAgICAgICB3cmFwcGVyLmVsLnN0eWxlLmJveFNoYWRvdyA9ICdub25lJztcbiAgICAgICAgZWxlbWVudHMucGhvdG9PdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuXG4gICAgICAgIHdyYXBwZXIuZWwuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgwZW0sMGVtKXNjYWxlKDEpJ1xuICAgICAgICB3cmFwcGVyLmVsLnN0eWxlLmxlZnQgPSBgJHtyZWN0LngvZW1Ub1B4fWVtYFxuXG4gICAgICAgIGVsZW1lbnRzLnBob3RvT3ZlcmxheS5hcHBlbmRDaGlsZCh3cmFwcGVyLmVsKTtcbiAgICAgICAgd3JhcHBlci5lbC5yZW1vdmVDaGlsZChyZW1vdmUpXG5cbiAgICAgICAgcGhvdG8uc3R5bGUub3BhY2l0eSA9ICcwJztcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnRzLmJhY2suc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgICAgICAgIGVsZW1lbnRzLnBob3RvT3ZlcmxheUJhY2tncm91bmQuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgICAgICAgIHBob3RvLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgICAgICAgICB0aGlzLl9jZW50ZXJQaG90b092ZXJsYXkoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2NlbnRlclBob3RvT3ZlcmxheSAoKSB7XG4gICAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB0aGlzLmdldFNjcmVlbkRpbWVuc2lvbnMoKSxcbiAgICAgICAgICAgIGVtVG9QeCA9IHRoaXMuX2dldEVtVG9QeCgpLFxuICAgICAgICAgICAgY2xvbmVJbWFnZSA9IHRoaXMuX3Nob3dpbmdQaG90b092ZXJsYXk7XG4gICAgICAgIHZhciB7d3JhcHBlciwgcHJldmlld30gPSBjbG9uZUltYWdlIHx8IHt3aWR0aDogdW5kZWZpbmVkLCBoZWlnaHQ6IHVuZGVmaW5lZCwgd3JhcHBlcjogdW5kZWZpbmVkLCBlbGVtZW50OiB1bmRlZmluZWQsIHByZXZpZXc6IHVuZGVmaW5lZH07XG4gICAgICAgIHZhciBzY2FsZTogbnVtYmVyOyBcblxuICAgICAgICBpZiAocHJldmlldy53aWR0aCA+IGRpbWVuc2lvbnMud2lkdGgpIHtcbiAgICAgICAgICAgIHNjYWxlID0gZGltZW5zaW9ucy53aWR0aCAvIHByZXZpZXcud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZXZpZXcuaGVpZ2h0ID4gZGltZW5zaW9ucy5oZWlnaHQpIHtcbiAgICAgICAgICAgIGlmICghc2NhbGUgfHwgKChkaW1lbnNpb25zLmhlaWdodCAvIHByZXZpZXcuaGVpZ2h0KSA+IHNjYWxlKSkge1xuICAgICAgICAgICAgICAgIHNjYWxlID0gZGltZW5zaW9ucy5oZWlnaHQgLyBwcmV2aWV3LmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NhbGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2NhbGUgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3ggPSAoZGltZW5zaW9ucy53aWR0aCAtIHByZXZpZXcud2lkdGggKiBzY2FsZSkgLyAyIC8gZW1Ub1B4LFxuICAgICAgICAgICAgY3kgPSAoZGltZW5zaW9ucy5oZWlnaHQgLSBwcmV2aWV3LmhlaWdodCAqIHNjYWxlKSAvIDIgLyBlbVRvUHg7XG5cbiAgICAgICAgd3JhcHBlci5lbC5zdHlsZS5oZWlnaHQgPSBgJHtwcmV2aWV3LmhlaWdodCpzY2FsZX1weGA7XG4gICAgICAgIHdyYXBwZXIuZWwuc3R5bGUud2lkdGggPSBgJHtwcmV2aWV3LndpZHRoKnNjYWxlfXB4YDtcbiAgICAgICAgd3JhcHBlci5lbC5zdHlsZS5sZWZ0ID0gYCR7Y3h9ZW1gO1xuICAgICAgICB3cmFwcGVyLmVsLnN0eWxlLmJvdHRvbSA9IGAke2N5fWVtYDtcbiAgICB9XG5cbiAgICBmb2N1cyAoe3gsIHl9OiB7eDpudW1iZXIsIHk6bnVtYmVyfSkge1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gd2luZG93WydDYW1lcmFQcmV2aWV3J11cbiAgICAgICAgaWYgKHRoaXMuX3JlYWR5KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBNdWx0aUNhbWVyYS5mb2N1cygke1t4LHldfSlgKTtcbiAgICAgICAgICAgIHByZXZpZXcudGFwVG9Gb2N1cyh4LCB5LCAoKSA9PiB7fSwgKGVycjogRXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoJ0NhbWVyYVByZXZpZXcudGFwVG9Gb2N1cycsIGVycikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN3aXRjaENhbWVyYSAoKSB7XG4gICAgICAgIGNvbnN0IHByZXZpZXcgPSB3aW5kb3dbJ0NhbWVyYVByZXZpZXcnXTtcbiAgICAgICAgaWYgKHRoaXMuX3JlYWR5ICYmIHByZXZpZXcpIHtcbiAgICAgICAgICAgIHdpbmRvd1snUHJvbWlzZSddLmFsbCh0aGlzLl9vcGVyYXRpb25zKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gbmV3IHdpbmRvd1snUHJvbWlzZSddKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNvbHZlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBwcmV2aWV3LnN3aXRjaENhbWVyYSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mcm9udENhbWVyYSA9ICF0aGlzLl9mcm9udENhbWVyYVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy56b29tKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCAoZXJyOiBFcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2FtZXJhUHJldmlldy5zd2l0Y2hDYW1lcmEnLCBlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzb2x2ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMDApXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3BlcmF0aW9ucy5wdXNoKHByb21pc2UpO1xuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fb3BlcmF0aW9ucy5pbmRleE9mKHByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcGVyYXRpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHpvb20gKHpvb206IG51bWJlcikge1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gd2luZG93WydDYW1lcmFQcmV2aWV3J107XG5cbiAgICAgICAgaWYgKCF0aGlzLl9yZWFkeSB8fCAhcHJldmlldykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qge19tYXhab29tLCBfbWluWm9vbX0gPSB0aGlzLFxuICAgICAgICAgICAge3pvb21CRywgem9vbUJHV3JhcHBlciwgem9vbVRodW1ifSA9IHRoaXMuX2VsZW1lbnRzLFxuICAgICAgICAgICAgYmFja2dyb3VuZFJlY3QgPSB6b29tQkcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSGVpZ2h0ID0gYmFja2dyb3VuZFJlY3QuaGVpZ2h0O1xuXG4gICAgICAgIGlmICh6b29tICA8IF9taW5ab29tKSB7XG4gICAgICAgICAgICB6b29tID0gX21pblpvb207XG4gICAgICAgIH0gXG5cbiAgICAgICAgaWYgKHpvb20gPiBfbWF4Wm9vbSkge1xuICAgICAgICAgICAgem9vbSA9IF9tYXhab29tO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fem9vbSA9IHpvb207XG5cbiAgICAgICAgY29uc3QgZGl2ID0gKCh6b29tIC0gMSkgLyAodGhpcy5fbWF4Wm9vbSAtIDEpKSxcbiAgICAgICAgICAgIHRvcCA9IGRpdiAqIGJhY2tncm91bmRIZWlnaHQ7XG4gICAgICAgIHpvb21UaHVtYi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgkey10b3B9cHgpdHJhbnNsYXRlKC01MCUsIDUwJSlgO1xuICAgICAgICAoem9vbUJHV3JhcHBlci5zdHlsZSBhcyBhbnkpLndlYmtpdE1hc2tQb3NpdGlvbj1gNTAlICR7KGRpdioxMDApfSVgO1xuXG4gICAgICAgIHByZXZpZXcuc2V0Wm9vbSh6b29tLCAoKSA9PiB7fSwgKGVycjogRXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoJ0NhbWVyYVByZXZpZXcuc2V0Wm9vbScsIGVycikpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfZG9MYXlvdXQgKCkge1xuICAgICAgICBjb25zdCBpbWFnZXMgPSB0aGlzLl9pbWFnZXMsXG4gICAgICAgICAgICB3aWR0aCA9IDMuNSxcbiAgICAgICAgICAgIGxuID0gaW1hZ2VzLmxlbmd0aCxcbiAgICAgICAgICAgIHVzZVBob3RvcyA9IHRoaXMuX2VsZW1lbnRzLnVzZVBob3RvcztcbiAgICAgICAgXG4gICAgICAgIHZhciBpbWFnZTogTXVsdGlDYW1lcmFJbWFnZSxcbiAgICAgICAgaSA9IDA7XG5cbiAgICAgICAgZm9yICg7aTxsbjtpKyspIHtcbiAgICAgICAgICAgIGltYWdlID0gaW1hZ2VzW2ldO1xuICAgICAgICAgICAgaW1hZ2UueCA9IGkgKiB3aWR0aDtcbiAgICAgICAgICAgIGltYWdlLndyYXBwZXIuZWwuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgkeyhpKndpZHRoKX1lbSwgMGVtKXNjYWxlKDEpYDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsbikge1xuICAgICAgICAgICAgaWYgKCF1c2VQaG90b3MuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYXMtcGhvdG9zJykpIHtcbiAgICAgICAgICAgICAgIHVzZVBob3Rvcy5jbGFzc0xpc3QuYWRkKCdoYXMtcGhvdG9zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodXNlUGhvdG9zLmNsYXNzTGlzdC5jb250YWlucygnaGFzLXBob3RvcycpKSB7XG4gICAgICAgICAgIHVzZVBob3Rvcy5jbGFzc0xpc3QucmVtb3ZlKCdoYXMtcGhvdG9zJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBfcmVzZXQgKCkge1xuICAgICAgICBjb25zdCB7Ym90dG9tVG9vbGJhciwgem9vbVRodW1iLCB6b29tQkdXcmFwcGVyfSA9IHRoaXMuX2VsZW1lbnRzO1xuXG4gICAgICAgIGJvdHRvbVRvb2xiYXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHpvb21UaHVtYi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWSgwcHgpdHJhbnNsYXRlKC01MCUsIDUwJSlgO1xuICAgICAgICAoem9vbUJHV3JhcHBlci5zdHlsZSBhcyBhbnkpLndlYmtpdE1hc2tQb3NpdGlvbj1gNTAlIDAlYDtcblxuICAgICAgICB0aGlzLl9pbWFnZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fdG91Y2hTdGF0ZSA9IHt0eXBlOiBNdWx0aUNhbWVyYS50b3VjaFR5cGVzLk5PTkV9O1xuICAgICAgICB0aGlzLl9mcm9udENhbWVyYSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl96b29tID0gMTtcbiAgICAgICAgdGhpcy5fbWluWm9vbSA9IDE7XG4gICAgICAgIHRoaXMuX21heFpvb20gPSA1O1xuICAgIH1cblxuICAgIF9vbkRldmljZVJlYWR5ICgpIHtcbiAgICAgICAgdGhpcy5fcmVhZHkgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fc2hvdykge1xuICAgICAgICAgICAgY29uc3Qgc2hvdyA9IHRoaXMuX3Nob3c7XG4gICAgICAgICAgICB0aGlzLl9zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNob3coc2hvdyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnpvb20odGhpcy5fem9vbSk7XG4gICAgICAgIHRoaXMuX29uT3JpZW50YXRpb25DaGFuZ2UoKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGV2aWNlcmVhZHknLCB0aGlzLl9vbkRldmljZVJlYWR5KTtcbiAgICB9XG5cbiAgICBfb25PdmVybGF5VG91Y2hTdGFydCAoZXZlbnQ6IFRvdWNoRXZlbnQgJiB7cGFnZVg6IG51bWJlciwgcGFnZVk6IG51bWJlcn0pIHtcbiAgICAgICAgY29uc3Qge3pvb21QbHVzLCB6b29tTWludXMsIHJldmVyc2VDYW1lcmEsIG92ZXJsYXl9ID0gdGhpcy5fZWxlbWVudHMsXG4gICAgICAgICAgICBjbGFzc0xpc3QgPSBldmVudC50YXJnZXRbJ2NsYXNzTGlzdCddIHx8IHtjb250YWluczogKCkgPT4gZmFsc2V9LFxuICAgICAgICAgICAgbnVtX3RvdWNoZXMgPSBldmVudC50b3VjaGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIHRvdWNoU3RhdGUgPSB0aGlzLl90b3VjaFN0YXRlLFxuICAgICAgICAgICAgcGx1c1RpbWVyOiAoKSA9PiBhbnksXG4gICAgICAgICAgICBtaW51c1RpbWVyOiAoKSA9PiBhbnk7XG5cbiAgICAgICAgaWYgKGNsYXNzTGlzdC5jb250YWlucygnY2FtZXJhLXpvb20tcGFydCcpICYmIG51bV90b3VjaGVzID09PSAxKSB7XG4gICAgICAgICAgICB0b3VjaFN0YXRlID0gdGhpcy5fdG91Y2hTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAuLi50b3VjaFN0YXRlLFxuICAgICAgICAgICAgICAgIHR5cGU6IE11bHRpQ2FtZXJhLnRvdWNoVHlwZXMuRFJBR19aT09NX1RIVU1CLFxuICAgICAgICAgICAgICAgIHpvb206IHRoaXMuX3pvb20sXG4gICAgICAgICAgICAgICAgeFN0YXJ0OiBldmVudC5wYWdlWCxcbiAgICAgICAgICAgICAgICB5U3RhcnQ6IGV2ZW50LnBhZ2VZLFxuICAgICAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgICAgIHN0YXJ0RXZlbnQ6IGV2ZW50XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldCA9PT0gem9vbVBsdXMgJiYgbnVtX3RvdWNoZXMgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuX29uWm9vbVBsdXNNb3VzZURvd24oKTtcbiAgICAgICAgICAgIHRvdWNoU3RhdGUgPSB0aGlzLl90b3VjaFN0YXRlID0ge1xuICAgICAgICAgICAgICAgIC4uLnRvdWNoU3RhdGUsXG4gICAgICAgICAgICAgICAgdHlwZTogTXVsdGlDYW1lcmEudG91Y2hUeXBlcy5IT0xEX1pPT01fUExVUyxcbiAgICAgICAgICAgICAgICBwbHVzVGltZXI6IHNldFRpbWVvdXQocGx1c1RpbWVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vblpvb21QbHVzTW91c2VEb3duKCk7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoU3RhdGUucGx1c1RpbWVyID0gc2V0VGltZW91dChwbHVzVGltZXIsIDEwMClcbiAgICAgICAgICAgICAgICB9LCAxMDApXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldCA9PT0gem9vbU1pbnVzICYmIG51bV90b3VjaGVzID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLl9vblpvb21NaW51c01vdXNlRG93bigpO1xuICAgICAgICAgICAgdG91Y2hTdGF0ZSA9IHRoaXMuX3RvdWNoU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgLi4udG91Y2hTdGF0ZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBNdWx0aUNhbWVyYS50b3VjaFR5cGVzLkhPTERfWk9PTV9NSU5VUyxcbiAgICAgICAgICAgICAgICBtaW51c1RpbWVyOiBzZXRUaW1lb3V0KG1pbnVzVGltZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uWm9vbU1pbnVzTW91c2VEb3duKCk7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoU3RhdGUubWludXNUaW1lciA9IHNldFRpbWVvdXQobWludXNUaW1lciwgMTAwKVxuICAgICAgICAgICAgICAgIH0sIDEwMClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQgPT09IHJldmVyc2VDYW1lcmEgJiYgbnVtX3RvdWNoZXMgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoQ2FtZXJhKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2xhc3NMaXN0LmNvbnRhaW5zKCdjYW1lcmEtdGFrZS1waG90by1wYXJ0JykgJiYgbnVtX3RvdWNoZXMgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMudGFrZVBob3RvKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0ID09PSBvdmVybGF5KSB7XG4gICAgICAgICAgICB0b3VjaFN0YXRlLnR5cGUgPSBNdWx0aUNhbWVyYS50b3VjaFR5cGVzLkRSQUdfWk9PTV9GSU5HRVJTO1xuICAgICAgICAgICAgdmFyIHRvdWNoZXMgPSBldmVudC5jaGFuZ2VkVG91Y2hlcyxcbiAgICAgICAgICAgICAgICBvcmRlcjogTXVsdGlDYW1lcmFbJ190b3VjaFN0YXRlJ11bJ29yZGVyJ10sXG4gICAgICAgICAgICAgICAgc3RhcnRzOiBNdWx0aUNhbWVyYVsnX3RvdWNoU3RhdGUnXVsnc3RhcnRzJ10sXG4gICAgICAgICAgICAgICAgdG91Y2g6IFRvdWNoO1xuICAgICAgICAgICAgaWYgKCF0b3VjaFN0YXRlLnN0YXJ0cykge1xuICAgICAgICAgICAgICAgIHRvdWNoU3RhdGUuc3RhcnRzID0ge2xlbmd0aDogMH07XG4gICAgICAgICAgICAgICAgdG91Y2hTdGF0ZS5vcmRlciA9IFtdO1xuICAgICAgICAgICAgICAgIHRvdWNoU3RhdGUuem9vbSA9IHRoaXMuX3pvb207XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFydHMgPSB0b3VjaFN0YXRlLnN0YXJ0cztcbiAgICAgICAgICAgIG9yZGVyID0gdG91Y2hTdGF0ZS5vcmRlcjtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MCxsbj10b3VjaGVzLmxlbmd0aDtpPGxuO2krKykge1xuICAgICAgICAgICAgICAgIHRvdWNoID0gdG91Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0c1t0b3VjaC5pZGVudGlmaWVyXSkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydHNbdG91Y2guaWRlbnRpZmllcl0gPSB7eDogdG91Y2gucGFnZVgsIHk6IHRvdWNoLnBhZ2VZfTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRzLmxlbmd0aCsrO1xuICAgICAgICAgICAgICAgICAgICBvcmRlci5wdXNoKHRvdWNoLmlkZW50aWZpZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHRvdWNoU3RhdGUubm90X2NsaWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbk92ZXJsYXlUb3VjaEVuZCAoZXZlbnQ6IFRvdWNoRXZlbnQgJiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIHZhciB0b3VjaFN0YXRlID0gdGhpcy5fdG91Y2hTdGF0ZSxcbiAgICAgICAgICAgIHt0eXBlfSA9IHRvdWNoU3RhdGU7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09IE11bHRpQ2FtZXJhLnRvdWNoVHlwZXMuSE9MRF9aT09NX1BMVVMpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0b3VjaFN0YXRlLnBsdXNUaW1lcik7XG4gICAgICAgICAgICB0b3VjaFN0YXRlID0ge3R5cGU6IE11bHRpQ2FtZXJhLnRvdWNoVHlwZXMuTk9ORX07XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gTXVsdGlDYW1lcmEudG91Y2hUeXBlcy5IT0xEX1pPT01fTUlOVVMpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0b3VjaFN0YXRlLm1pbnVzVGltZXIpO1xuICAgICAgICAgICAgdG91Y2hTdGF0ZSA9IHt0eXBlOiBNdWx0aUNhbWVyYS50b3VjaFR5cGVzLk5PTkV9O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IE11bHRpQ2FtZXJhLnRvdWNoVHlwZXMuRFJBR19aT09NX0ZJTkdFUlMpIHtcbiAgICAgICAgICAgIGlmICghdG91Y2hTdGF0ZS5ub3RfY2xpY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbk92ZXJsYXlDbGljayhldmVudCBhcyBNb3VzZUV2ZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLFxuICAgICAgICAgICAgICAgIHN0YXJ0cyA9IHRvdWNoU3RhdGUuc3RhcnRzLFxuICAgICAgICAgICAgICAgIG9yZGVyID0gdG91Y2hTdGF0ZS5vcmRlcjtcblxuICAgICAgICAgICAgdmFyIHRvdWNoOiBUb3VjaDtcbiAgICAgICAgICAgIGZvciAodmFyIGk9MCxsbj10b3VjaGVzLmxlbmd0aDtpPGxuO2krKykge1xuICAgICAgICAgICAgICAgIHRvdWNoID0gdG91Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRzW3RvdWNoLmlkZW50aWZpZXJdKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yZGVyLnNwbGljZShvcmRlci5pbmRleE9mKHRvdWNoLmlkZW50aWZpZXIpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHN0YXJ0c1t0b3VjaC5pZGVudGlmaWVyXTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdG91Y2hTdGF0ZSA9IHt0eXBlOiBNdWx0aUNhbWVyYS50b3VjaFR5cGVzLk5PTkV9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b3VjaFN0YXRlID0ge3R5cGU6IE11bHRpQ2FtZXJhLnRvdWNoVHlwZXMuTk9ORX1cbiAgICAgICAgICAgIHRvdWNoU3RhdGUudHlwZSA9IE11bHRpQ2FtZXJhLnRvdWNoVHlwZXMuTk9ORTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90b3VjaFN0YXRlID0gdG91Y2hTdGF0ZTtcbiAgICB9XG4gICAgX29uT3ZlcmxheVRvdWNoQ2FuY2VsIChldmVudDogVG91Y2hFdmVudCAmIE1vdXNlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5fb25PdmVybGF5VG91Y2hFbmQoZXZlbnQpO1xuICAgIH1cbiAgICBfb25PdmVybGF5VG91Y2hNb3ZlIChldmVudDogVG91Y2hFdmVudCAmIE1vdXNlRXZlbnQpIHtcbiAgICAgICAgdmFyIHRvdWNoU3RhdGUgPSB0aGlzLl90b3VjaFN0YXRlLFxuICAgICAgICAgICAge3R5cGV9ID0gdG91Y2hTdGF0ZTtcblxuICAgICAgICBpZiAodHlwZSA9PT0gTXVsdGlDYW1lcmEudG91Y2hUeXBlcy5EUkFHX1pPT01fVEhVTUIpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VZID0gZXZlbnQucGFnZVkgLSB0b3VjaFN0YXRlLnlTdGFydCxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kID0gdGhpcy5fZWxlbWVudHMuem9vbUJHLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRSZWN0ID0gYmFja2dyb3VuZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSGVpZ2h0ID0gYmFja2dyb3VuZFJlY3QuaGVpZ2h0O1xuXG4gICAgICAgICAgICB0aGlzLnpvb20odG91Y2hTdGF0ZS56b29tIC0gcGFnZVkgLyBiYWNrZ3JvdW5kSGVpZ2h0ICogMyk7XG5cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09IE11bHRpQ2FtZXJhLnRvdWNoVHlwZXMuRFJBR19aT09NX0ZJTkdFUlMpIHtcbiAgICAgICAgICAgIGNvbnN0IHtzdGFydHMsIG9yZGVyfSA9IHRvdWNoU3RhdGUsXG4gICAgICAgICAgICAgICAgc3RhcnQxID0gc3RhcnRzW29yZGVyWzBdXSxcbiAgICAgICAgICAgICAgICBzdGFydDIgPSBzdGFydHNbb3JkZXJbMV1dLFxuICAgICAgICAgICAgICAgIHRvdWNoZXMgPSBldmVudC50b3VjaGVzLFxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnMgPSB0aGlzLmdldFNjcmVlbkRpbWVuc2lvbnMoKSxcbiAgICAgICAgICAgICAgICB7d2lkdGgsIGhlaWdodH0gPSBkaW1lbnNpb25zO1xuICAgICAgICAgICAgdmFyIGN1cnJlbnQxOiBUb3VjaCxcbiAgICAgICAgICAgICAgICBjdXJyZW50MjogVG91Y2gsXG4gICAgICAgICAgICAgICAgc3RhcnRYMTogbnVtYmVyLFxuICAgICAgICAgICAgICAgIHN0YXJ0WDI6IG51bWJlcixcbiAgICAgICAgICAgICAgICBzdGFydFkxOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgc3RhcnRZMjogbnVtYmVyLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRYMTogbnVtYmVyLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRYMjogbnVtYmVyLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRZMTogbnVtYmVyLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRZMjogbnVtYmVyLFxuICAgICAgICAgICAgICAgIGRpc3QxOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgZGlzdDI6IG51bWJlcixcbiAgICAgICAgICAgICAgICB0b3VjaDogVG91Y2gsXG4gICAgICAgICAgICAgICAgZGlmZjogbnVtYmVyO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpPTAsbG49dG91Y2hlcy5sZW5ndGg7aTxsbjtpKyspIHtcbiAgICAgICAgICAgICAgICB0b3VjaCA9IHRvdWNoZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgPT09IG9yZGVyWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQxID0gdG91Y2g7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Mikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRvdWNoLmlkZW50aWZpZXIgPT09IG9yZGVyWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQyID0gdG91Y2g7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdGFydDEpIHtcbiAgICAgICAgICAgICAgICBzdGFydFgxID0gc3RhcnQxLng7XG4gICAgICAgICAgICAgICAgc3RhcnRZMSA9IHN0YXJ0MS55O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnQxKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFgxID0gY3VycmVudDEucGFnZVg7XG4gICAgICAgICAgICAgICAgY3VycmVudFkxID0gY3VycmVudDEucGFnZVk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdG91Y2hTdGF0ZS5ub3RfY2xpY2sgJiYgc3RhcnQxICYmIGN1cnJlbnQxKSB7XG4gICAgICAgICAgICAgICAgZGlzdDEgPSBNYXRoLnNxcnQoKChzdGFydFgxIC0gY3VycmVudFgxKSAqKiAyKSArICgoc3RhcnRZMSAtIGN1cnJlbnRZMSkgKiogMikpO1xuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhkaXN0MSkgPiA3KSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoU3RhdGUubm90X2NsaWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdGFydDEgJiYgc3RhcnQyICYmIGN1cnJlbnQxICYmIGN1cnJlbnQyKSB7XG4gICAgICAgICAgICAgICAgc3RhcnRYMiA9IHN0YXJ0Mi54O1xuICAgICAgICAgICAgICAgIHN0YXJ0WTIgPSBzdGFydDIueTtcbiAgICAgICAgICAgICAgICBjdXJyZW50WDIgPSBjdXJyZW50Mi5wYWdlWDtcbiAgICAgICAgICAgICAgICBjdXJyZW50WTIgPSBjdXJyZW50Mi5wYWdlWTtcblxuICAgICAgICAgICAgICAgIGRpc3QxID0gTWF0aC5zcXJ0KCgoc3RhcnRYMiAtIHN0YXJ0WDEpICoqIDIpICsgKChzdGFydFkyIC0gc3RhcnRZMSkgKiogMikpO1xuICAgICAgICAgICAgICAgIGRpc3QyID0gTWF0aC5zcXJ0KCgoY3VycmVudFgyIC0gY3VycmVudFgxKSAqKiAyKSArICgoY3VycmVudFkyIC0gY3VycmVudFkxKSAqKiAyKSk7XG5cbiAgICAgICAgICAgICAgICBkaWZmID0gZGlzdDIgLSBkaXN0MTtcblxuICAgICAgICAgICAgICAgIHRoaXMuem9vbSh0b3VjaFN0YXRlLnpvb20gKyBkaWZmIC8gTWF0aC5taW4od2lkdGgsaGVpZ2h0KSAqIDYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uT3JpZW50YXRpb25DaGFuZ2UgKCkge1xuICAgICAgICBjb25zdCBwcmV2aWV3ID0gd2luZG93WydDYW1lcmFQcmV2aWV3J10sXG4gICAgICAgICAgICBkaW1lbnNpb25zID0gdGhpcy5nZXRTY3JlZW5EaW1lbnNpb25zKCksXG4gICAgICAgICAgICB7d2lkdGgsIGhlaWdodH0gPSBkaW1lbnNpb25zO1xuICAgICAgICBpZiAodGhpcy5zaG93ICYmIHRoaXMuX3JlYWR5ICYmIHByZXZpZXcpIHtcbiAgICAgICAgICAgIHByZXZpZXcuc2V0UHJldmlld1NpemUoZGltZW5zaW9ucywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvbmVEaW1lbnNpb25zID0gdGhpcy5nZXRTY3JlZW5EaW1lbnNpb25zKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmVEaW1lbnNpb25zLndpZHRoICE9PSB3aWR0aCB8fCBkb25lRGltZW5zaW9ucy5oZWlnaHQgIT09IGhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbk9yaWVudGF0aW9uQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgKGVycjogRXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoJ0NhbWVyYVByZXZpZXcuc2V0UHJldmlld1NpemUnLCBlcnIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc2hvd2luZ1Bob3RvT3ZlcmxheSkge1xuICAgICAgICAgICAgdGhpcy5fY2VudGVyUGhvdG9PdmVybGF5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25PdmVybGF5Q2xpY2sgKHtwYWdlWDogeCwgcGFnZVk6IHl9KSB7XG4gICAgICAgIHRoaXMuZm9jdXMoe3gsIHl9KTtcbiAgICB9XG5cbiAgICBfb25SZXZlcnNlQ2FtZXJhQ2xpY2sgKCkge1xuICAgICAgICB0aGlzLnN3aXRjaENhbWVyYSgpO1xuICAgIH1cblxuICAgIF9vblpvb21QbHVzTW91c2VEb3duICgpIHtcbiAgICAgICAgaWYgKCh0aGlzLl96b29tICsgMC4xNSkgPD0gdGhpcy5fbWF4Wm9vbSkge1xuICAgICAgICAgICAgdGhpcy56b29tKHRoaXMuX3pvb20gKyAwLjE1KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuem9vbSh0aGlzLl9tYXhab29tKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblpvb21NaW51c01vdXNlRG93biAoKSB7XG4gICAgICAgIGlmICgodGhpcy5fem9vbSAtIDAuMTUpID49IHRoaXMuX21pblpvb20pIHtcbiAgICAgICAgICAgIHRoaXMuem9vbSh0aGlzLl96b29tIC0gMC4xNSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnpvb20odGhpcy5fbWluWm9vbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25UYWtlUGhvdG9UcmFuc2l0aW9uRW5kICgpIHtcbiAgICAgICAgY29uc3Qge292ZXJsYXl9ID0gdGhpcy5fZWxlbWVudHM7XG4gICAgICAgIGlmIChvdmVybGF5ICYmIG92ZXJsYXkuY2xhc3NMaXN0ICYmIG92ZXJsYXkuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWtpbmctcGljdHVyZScpKSB7XG4gICAgICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Rha2luZy1waWN0dXJlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25QaG90b092ZXJsYXlCYWNrQ2xpY2sgKCkge1xuICAgICAgICB0aGlzLl9oaWRlUGhvdG9PdmVybGF5KCk7XG4gICAgfVxuXG4gICAgX29uQ2FuY2VsQ2xpY2sgKCkge1xuICAgICAgICBpZiAodGhpcy5fc2hvdykge1xuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgICAgICB3aW5kb3dbJ1Byb21pc2UnXS5hbGwodGhpcy5fb3BlcmF0aW9ucylcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2NhbmNlbCcsIHtkZXRhaWw6IFtdfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Vc2VQaG90b3NDbGljayAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaG93KSB7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIHdpbmRvd1snUHJvbWlzZSddLmFsbCh0aGlzLl9vcGVyYXRpb25zKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb25lbmVuZW5lJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ3VzZXBob3RvcycsIHtkZXRhaWw6IHRoaXMuX2ltYWdlcy5tYXAoZCA9PiAoe3dpZHRoOiBkLndpZHRoLCBoZWlnaHQ6ZC5oZWlnaHQsIGRhdGE6ZC5kYXRhfSkpfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIHN0YXRpYyBfY2FtZXJhOiBNdWx0aUNhbWVyYTtcbiAgICBzdGF0aWMgdG91Y2hUeXBlcyA9IHtcbiAgICAgICAgTk9ORTogMCBhcyAwLFxuICAgICAgICBEUkFHX1pPT01fVEhVTUI6IDEgYXMgMSxcbiAgICAgICAgRFJBR19aT09NX0ZJTkdFUlM6IDIgYXMgMixcbiAgICAgICAgSE9MRF9aT09NX1BMVVM6IDQgYXMgNCxcbiAgICAgICAgSE9MRF9aT09NX01JTlVTOiA4IGFzIDhcbiAgICB9O1xuICAgIHRvdWNoVHlwZXMgPSBNdWx0aUNhbWVyYS50b3VjaFR5cGVzO1xuXG4gICAgc3RhdGljIHNob3cgKHN1Y2Nlc3M6IChpbWFnZXM6IE11bHRpQ2FtZXJhSW1hZ2VbXSkgPT4gYW55LCBjb25maWc6IE11bHRpQ2FtZXJhQ29uZmlnKSB7XG4gICAgICAgIHZhciBjYW1lcmEgPSB0aGlzLl9jYW1lcmE7XG4gICAgICAgIGNvbnN0IGNhbmNlbENCID0gKCkgPT4ge1xuICAgICAgICAgICAgc3VjY2VzcyAmJiBzdWNjZXNzKFtdKTtcbiAgICAgICAgICAgIGNhbWVyYS5yZW1vdmVFdmVudExpc3RlbmVyKCd1c2VwaG90b3MnLCB1c2VQaG90b3NDQik7XG4gICAgICAgICAgICBjYW1lcmEucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FuY2VsJywgY2FuY2VsQ0IpO1xuICAgICAgICB9LFxuICAgICAgICB1c2VQaG90b3NDQiA9ICgkZXZlbnQ6IEN1c3RvbUV2ZW50KSA9PiB7XG4gICAgICAgICAgICBzdWNjZXNzICYmIHN1Y2Nlc3MoJGV2ZW50LmRldGFpbCk7XG4gICAgICAgICAgICBjYW1lcmEucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXNlcGhvdG9zJywgdXNlUGhvdG9zQ0IpO1xuICAgICAgICAgICAgY2FtZXJhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbmNlbCcsIGNhbmNlbENCKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3VjY2VzcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBzdWNjZXNzO1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3MgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2FtZXJhID0gdGhpcy5nZXRDYW1lcmEoKTtcbiAgICAgICAgY2FtZXJhLmFkZEV2ZW50TGlzdGVuZXIoJ3VzZXBob3RvcycsIHVzZVBob3Rvc0NCKTtcbiAgICAgICAgY2FtZXJhLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbmNlbCcsIGNhbmNlbENCKTtcbiAgICAgICAgY2FtZXJhLnNob3coY29uZmlnKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgc3RhdGljIGhpZGUgKCkge1xuICAgICAgIHRoaXMuZ2V0Q2FtZXJhKCkuaGlkZSgpO1xuICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRDYW1lcmEoKSB7XG4gICAgICAgaWYgKCF0aGlzLl9jYW1lcmEpIHtcbiAgICAgICAgICB0aGlzLl9jYW1lcmEgPSBuZXcgTXVsdGlDYW1lcmEoKTtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2NhbWVyYS5fZWxlbWVudCk7XG4gICAgICAgfVxuICAgICAgIHJldHVybiB0aGlzLl9jYW1lcmE7XG4gICAgfVxuXG4gICAgc3RhdGljIGFkZEV2ZW50TGlzdGVuZXIgKCkge1xuICAgICAgICB0aGlzLmdldENhbWVyYSgpLmFkZEV2ZW50TGlzdGVuZXIuYXBwbHkodGhpcy5fY2FtZXJhLCBhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciAoKSB7XG4gICAgICAgIHRoaXMuZ2V0Q2FtZXJhKCkucmVtb3ZlRXZlbnRMaXN0ZW5lci5hcHBseSh0aGlzLl9jYW1lcmEsIGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuXG4gICAgc3RhdGljIF9waG90b1dyYXBwZXJUZW1wbGF0ZTogSFRNTEVsZW1lbnQgPSAoKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgcmVzdWx0LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYW1lcmEtcGhvdG8td3JhcHBlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYW1lcmEtcGhvdG9cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FtZXJhLXBob3RvLXJlbW92ZVwiPi08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PiBgO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmNoaWxkcmVuWzBdIGFzIEhUTUxFbGVtZW50O1xuICAgIH0pKCk7XG5cbiAgICBzdGF0aWMgX3RlbXBsYXRlOiBIVE1MRWxlbWVudCA9ICgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgcmVzdWx0LmlubmVySFRNTCA9IGAke2h0bWx9YDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudFxuICAgIH0pKCk7XG5cbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQUFPLElBQU0sR0FBRyxHQUFHLDJ3VkF5VmxCLENBQUM7O0lDeFZLLElBQU0sSUFBSSxHQUFHLHdEQUdkLEdBQUcsMndEQXVDUixDQUFBOzs7UUNvREc7WUFBQSxpQkFpREM7WUE1RUQsWUFBTyxHQUF1QixFQUFFLENBQUM7WUFHakMsYUFBUSxHQUFXLENBQUMsQ0FBQztZQUNyQixhQUFRLEdBQVcs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
